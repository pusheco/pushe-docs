(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{108:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return b})),n.d(t,"rightToc",(function(){return o})),n.d(t,"default",(function(){return p}));n(0);var a=n(297);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var b={id:"cordova-d2d",title:"اعلان از یک دیوایس به دیوایس دیگر"},o=[{value:"ارسال نوتیفیکیشن ساده",id:"ارسال-نوتیفیکیشن-ساده",children:[]},{value:"ارسال نوتیفیکیشن پیشرفته",id:"ارسال-نوتیفیکیشن-پیشرفته",children:[]},{value:"ارسال جیسون دلخواه",id:"ارسال-جیسون-دلخواه",children:[]},{value:"ارسال اعلان و یا جیسون به دستگاه اجراکننده‌ی کد",id:"ارسال-اعلان-و-یا-جیسون-به-دستگاه-اجراکنندهی-کد",children:[]}],i={rightToc:o},l="wrapper";function p(e){var t=e.components,n=c(e,["components"]);return Object(a.b)(l,r({},i,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,"با استفاده‌از ",Object(a.b)("a",r({parentName:"p"},{href:"/docs/android-cordova/cordova-pusheid"}),"pushe id")," یک دیوایس، می‌توان از یک دیوایس دیگر به آن اعلان فرستاد."),Object(a.b)("blockquote",null,Object(a.b)("p",{parentName:"blockquote"},"ارسال از یک دیوایس به دیوایس دیگر فقط مختص یک برنامه‌ است و ارسال اعلان خارج‌ از محیط برنامه ممکن نیست.")),Object(a.b)("h2",{id:"ارسال-نوتیفیکیشن-ساده"},"ارسال نوتیفیکیشن ساده"),Object(a.b)("div",{dir:"ltr"},Object(a.b)("h4",{id:"windowpushesendsimplenotiftouserpusheid-title-content"},Object(a.b)("inlineCode",{parentName:"h4"},'window.pushe.sendSimpleNotifToUser("pusheId", "title", "content");'))),Object(a.b)("table",null,Object(a.b)("thead",{parentName:"table"},Object(a.b)("tr",{parentName:"thead"},Object(a.b)("th",r({parentName:"tr"},{align:"center"}),"پارامتر ورودی"),Object(a.b)("th",r({parentName:"tr"},{align:null}),"استفاده"))),Object(a.b)("tbody",{parentName:"table"},Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",r({parentName:"tr"},{align:"center"}),"pusheId"),Object(a.b)("td",r({parentName:"tr"},{align:null}),"شناسه‌ی دستگاه مورد نظر")),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",r({parentName:"tr"},{align:"center"}),"title"),Object(a.b)("td",r({parentName:"tr"},{align:null}),"تیتر اعلان")),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",r({parentName:"tr"},{align:"center"}),"content"),Object(a.b)("td",r({parentName:"tr"},{align:null}),"محتوای اعلان")))),Object(a.b)("p",null,"می‌توانید با استفاده از این تابع نوتیفیکیشنی با تیتر و متن (نوتیفیکیشن ساده) به کاربر خاصی که این اپلیکیشن را نصب کرده و نصب آن در کنسول ثبت‌ شده ارسال کنید."),Object(a.b)("pre",null,Object(a.b)("code",r({parentName:"pre"},{className:"language-java"}),'window.pushe.sendSimpleNotifToUser(pusheId, "Hello user", "How are you doing?");\n\n')),Object(a.b)("h2",{id:"ارسال-نوتیفیکیشن-پیشرفته"},"ارسال نوتیفیکیشن پیشرفته"),Object(a.b)("div",{dir:"ltr"},Object(a.b)("h4",{id:"windowpushesendadvancednotiftouserpusheid-notificationjson"},Object(a.b)("inlineCode",{parentName:"h4"},"window.pushe.sendAdvancedNotifToUser(pusheId, notificationJson)"))),Object(a.b)("table",null,Object(a.b)("thead",{parentName:"table"},Object(a.b)("tr",{parentName:"thead"},Object(a.b)("th",r({parentName:"tr"},{align:"center"}),"پارامتر ورودی"),Object(a.b)("th",r({parentName:"tr"},{align:null}),"استفاده"))),Object(a.b)("tbody",{parentName:"table"},Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",r({parentName:"tr"},{align:"center"}),"pusheId"),Object(a.b)("td",r({parentName:"tr"},{align:null}),"شناسه‌ی دستگاه مورد نظر")),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",r({parentName:"tr"},{align:"center"}),"notificationJson"),Object(a.b)("td",r({parentName:"tr"},{align:null}),"یک استرینگ با فرمت جیسون که تمام مقادیر لازم برای شئ نوتیفیکیشن را دارد.")))),Object(a.b)("p",null,"همانند ارسال با استفاده از RESTful API، می‌توانید به یک کاربر خاص نوتیفیکیشنی کامل‌تر ارسال کنید. مشابه کد زیر می‌توانید فیلد‌هایی همچون صدای زنگ، آیکون و .... را در جیسون وارد کنید."),Object(a.b)("pre",null,Object(a.b)("code",r({parentName:"pre"},{className:"language-java"}),'    window.pushe.sendAdvancedNotifToUser("pid_a0e3-82ac-a0", "{ \\"title\\":\\"تست\\", \\"content\\":\\"پیام ارسالی از یک دستگاه \\" }");\n\n')),Object(a.b)("p",null,"برای اطلاعات بیشتر در مورد کلید‌هایی که می‌توانند در جیسون استفاده شوند به بخش ",Object(a.b)("a",r({parentName:"p"},{href:"docs/api/api-keys"}),"RESTful API در پوشه")," مراجعه کنید."),Object(a.b)("h2",{id:"ارسال-جیسون-دلخواه"},"ارسال جیسون دلخواه"),Object(a.b)("div",{dir:"ltr"},Object(a.b)("h4",{id:"windowpushesendcustomjsontouserpusheid-customjson"},Object(a.b)("inlineCode",{parentName:"h4"},"window.pushe.sendCustomJsonToUser(pusheId, customJson)"))),Object(a.b)("table",null,Object(a.b)("thead",{parentName:"table"},Object(a.b)("tr",{parentName:"thead"},Object(a.b)("th",r({parentName:"tr"},{align:"center"}),"پارامتر ورودی"),Object(a.b)("th",r({parentName:"tr"},{align:null}),"استفاده"))),Object(a.b)("tbody",{parentName:"table"},Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",r({parentName:"tr"},{align:"center"}),"pusheId"),Object(a.b)("td",r({parentName:"tr"},{align:null}),"شناسه‌ی دستگاه مورد نظر")),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",r({parentName:"tr"},{align:"center"}),"customJson"),Object(a.b)("td",r({parentName:"tr"},{align:null}),"یک استرینگ با فرمت جیسون که به کاربر ارسال می‌شود.")))),Object(a.b)("pre",null,Object(a.b)("code",r({parentName:"pre"},{className:"language-java"}),'\n    window.pushe.sendCustomJsonToUser("pid_a0e3-82ac-a0", "{ \\"key1\\":\\"value1\\", \\"key2\\":\\"value2\\" }");\n\n')),Object(a.b)("h2",{id:"ارسال-اعلان-و-یا-جیسون-به-دستگاه-اجراکنندهی-کد"},"ارسال اعلان و یا جیسون به دستگاه اجراکننده‌ی کد"),Object(a.b)("p",null,"در صورتی که بخواهید به همین دستگاهی که کد را اجرا می‌کند اعلان ارسال کنید کافیست PusheId را برابر شناسه‌ی همین دستگاه قرار دهید:"),Object(a.b)("pre",null,Object(a.b)("code",r({parentName:"pre"},{className:"language-java"}),'window.pushe.getPusheId(function pidCallnack(pid){\n    // Send notification to this device\n    window.pushe.sendSimpleNotifToUser(pid, "Hello user", "How are you?");\n})\n\n')),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"نکته!")," توابع ارسال اعلان به دستگاه دیگر را بعد از اطمینان از اینکه عملیات initialization پوشه انجام شده است، صدا بزنید. برای مثال برای ارسال اعلان پیشرفته به روش زیر عمل کنید:"),Object(a.b)("pre",null,Object(a.b)("code",r({parentName:"pre"},{className:"language-java"}),'window.pushe.isPusheInitialized(function pusheInited(result){\n       if(result) {\n            window.pushe.sendAdvancedNotifToUser("pid_a0e3-82ac-a0", "{ \\"title\\":\\"test\\", \\"content\\":\\"sent from client\\" }");\n       }\n });\n\n')))}p.isMDXComponent=!0},297:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return d}));var a=n(0),r=n.n(a),c=r.a.createContext({}),b=function(e){var t=r.a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):Object.assign({},t,e)),n},o=function(e){var t=b(e.components);return r.a.createElement(c.Provider,{value:t},e.children)};var i="mdxType",l={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},p=Object(a.forwardRef)((function(e,t){var n=e.components,a=e.mdxType,c=e.originalType,o=e.parentName,i=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&-1===t.indexOf(a)&&(n[a]=e[a]);return n}(e,["components","mdxType","originalType","parentName"]),p=b(n),d=a,u=p[o+"."+d]||p[d]||l[d]||c;return n?r.a.createElement(u,Object.assign({},{ref:t},i,{components:n})):r.a.createElement(u,Object.assign({},{ref:t},i))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var c=n.length,b=new Array(c);b[0]=p;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o[i]="string"==typeof e?e:a,b[1]=o;for(var d=2;d<c;d++)b[d]=n[d];return r.a.createElement.apply(null,b)}return r.a.createElement.apply(null,n)}p.displayName="MDXCreateElement"}}]);