(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{128:function(e,n,t){"use strict";t.d(n,"a",(function(){return p})),t.d(n,"b",(function(){return u}));var a=t(0),r=t.n(a),l=r.a.createContext({}),c=function(e){var n=r.a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):Object.assign({},n,e)),t},p=function(e){var n=c(e.components);return r.a.createElement(l.Provider,{value:n},e.children)};var b="mdxType",o={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},i=Object(a.forwardRef)((function(e,n){var t=e.components,a=e.mdxType,l=e.originalType,p=e.parentName,b=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&-1===n.indexOf(a)&&(t[a]=e[a]);return t}(e,["components","mdxType","originalType","parentName"]),i=c(t),u=a,s=i[p+"."+u]||i[u]||o[u]||l;return t?r.a.createElement(s,Object.assign({},{ref:n},b,{components:t})):r.a.createElement(s,Object.assign({},{ref:n},b))}));function u(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var l=t.length,c=new Array(l);c[0]=i;var p={};for(var o in n)hasOwnProperty.call(n,o)&&(p[o]=n[o]);p.originalType=e,p[b]="string"==typeof e?e:a,c[1]=p;for(var u=2;u<l;u++)c[u]=t[u];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,t)}i.displayName="MDXCreateElement"},87:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return c})),t.d(n,"rightToc",(function(){return p})),t.d(n,"default",(function(){return i}));t(0);var a=t(128);function r(){return(r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function l(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var c={id:"flutter-intro",title:"راه‌اندازی سریع"},p=[{value:"پیش‌نیاز‌ها",id:"پیشنیازها",children:[]},{value:"اضافه‌کردن پلاگین به پروژه",id:"اضافهکردن-پلاگین-به-پروژه",children:[]},{value:"اضافه‌کردن محتوای مانیفست",id:"اضافهکردن-محتوای-مانیفست",children:[]},{value:"اضافه‌کردن کدهای لازم",id:"اضافهکردن-کدهای-لازم",children:[]},{value:"تست و ثبت دستگاه در پوشه",id:"تست-و-ثبت-دستگاه-در-پوشه",children:[]}],b={rightToc:p},o="wrapper";function i(e){var n=e.components,t=l(e,["components"]);return Object(a.b)(o,r({},b,t,{components:n,mdxType:"MDXLayout"}),Object(a.b)("blockquote",null,Object(a.b)("p",{parentName:"blockquote"},"نسخه‌ی فعلی فقط برای از سیستم‌عامل اندروید پشتیبانی می‌کند.")),Object(a.b)("h2",{id:"پیشنیازها"},"پیش‌نیاز‌ها"),Object(a.b)("p",null,"قبل از شروع کار موارد زیر را بررسی و از درستی آنها اطمینان حاصل نمایید."),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"برای گذر از تحریم سرور‌های Jcenter از ابزار گذرازتحریم یا ... استفاده کنید."),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"MinSDKVersion")," >= 14"),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"TargetSDK")," >= 25 (نسخه‌های پایین‌تر هم ممکن است کار کنند اما تضمینی نیست.)"),Object(a.b)("li",{parentName:"ul"},"اپلیکیشن باید در کنسول ثبت‌شود. ",Object(a.b)("a",r({parentName:"li"},{href:"https://console.pushe.co"}),"Pushe console")),Object(a.b)("li",{parentName:"ul"},"توکن مانیفست از کنسول برداشته‌شود."),Object(a.b)("li",{parentName:"ul"},"دستگاه تست باید دارای گوگل‌پلی‌سرویس بوده و اینترنت آن فعال‌باشد.")),Object(a.b)("h2",{id:"اضافهکردن-پلاگین-به-پروژه"},"اضافه‌کردن پلاگین به پروژه"),Object(a.b)("p",null,"به فایل ",Object(a.b)("inlineCode",{parentName:"p"},"pubspec.yaml")," پلاگین پوشه را اضافه‌کنید:"),Object(a.b)("pre",null,Object(a.b)("code",r({parentName:"pre"},{className:"language-yml"}),"pushe: 1.2.0^\n")),Object(a.b)("p",null,"و محل قرارگیری آن در زیرمجموعه‌ی ",Object(a.b)("inlineCode",{parentName:"p"},"dependencies")," می‌باشد."),Object(a.b)("pre",null,Object(a.b)("code",r({parentName:"pre"},{className:"language-yaml"}),"dependencies:\n    pushe: 1.2.0^\n")),Object(a.b)("p",null,"سپس سینک کنید یا دستور ",Object(a.b)("inlineCode",{parentName:"p"},"flutter packages get")," را در ترمینال وارد کنید تا پلاگین‌ها به پروژه اضافه‌شوند."),Object(a.b)("h2",{id:"اضافهکردن-محتوای-مانیفست"},"اضافه‌کردن محتوای مانیفست"),Object(a.b)("blockquote",null,Object(a.b)("p",{parentName:"blockquote"},"محل فایل‌مانیفست ",Object(a.b)("inlineCode",{parentName:"p"},"android/app/src/main/AndroidManifest.xml")," می‌باشد.")),Object(a.b)("p",null,"تگ مانیفست را از ",Object(a.b)("a",r({parentName:"p"},{href:"https://console.pushe.co"}),"کنسول پوشه")," دریافت‌کنید و در فایل ",Object(a.b)("inlineCode",{parentName:"p"},"AndroidManifest.xml")," خود اضافه کنید. تگ دریافتی باید کدی همانند زیر باشد:"),Object(a.b)("pre",null,Object(a.b)("code",r({parentName:"pre"},{className:"language-xml"}),'<meta-data android:name="co.ronash.pushe.token" android:value="{PUSHE_TOKEN}" />\n')),Object(a.b)("p",null,"به جای ",Object(a.b)("inlineCode",{parentName:"p"},"{PUSHE_TOKEN}")," باید توکن برنامه‌ی خود را قرار دهید."),Object(a.b)("p",null,"و محل اضافه‌کردن آن در فایل ",Object(a.b)("inlineCode",{parentName:"p"},"AndroidManifest")," باید مطابق زیر باشد:"),Object(a.b)("pre",null,Object(a.b)("code",r({parentName:"pre"},{className:"language-xml"}),'<manifest ...>\n    <application ...>\n        ...\n        \x3c!-- تگ باید در اینجا قرار گیرد --\x3e\n        <meta-data android:name="co.ronash.pushe.token" android:value="{PUSHE_TOKEN}" />\n    </application>\n</manifest>\n')),Object(a.b)("p",null,"برای استفاده از ",Object(a.b)("strong",{parentName:"p"},"امکان ارسال اعلان با استفاده‌از موقعیت مکانی")," پرمیشن لوکیشن را نیز به مانیفست اضافه‌کنید:"),Object(a.b)("pre",null,Object(a.b)("code",r({parentName:"pre"},{className:"language-xml"}),'<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/>\n')),Object(a.b)("h2",{id:"اضافهکردن-کدهای-لازم"},"اضافه‌کردن کدهای لازم"),Object(a.b)("p",null,"فایل ",Object(a.b)("inlineCode",{parentName:"p"},"main.dart"),":"),Object(a.b)("p",null,"در بخش ",Object(a.b)("inlineCode",{parentName:"p"},"import"),"ها کد زیر را اضافه‌کنید تا کلاس‌های پوشه در فایل قابل‌استفاده شوند:"),Object(a.b)("pre",null,Object(a.b)("code",r({parentName:"pre"},{className:"language-dart"}),"import 'package:pushe/pushe.dart';\n")),Object(a.b)("p",null,"و از کد زیر برای شروع‌ عملیات رجیسترکردن پوشه استفاده کنید:"),Object(a.b)("pre",null,Object(a.b)("code",r({parentName:"pre"},{className:"language-dart"}),"Pushe.initialize();\n")),Object(a.b)("p",null,"اگر در تابع بالا مقدار ",Object(a.b)("inlineCode",{parentName:"p"},"showDialog: true")," گذاشته شود و دستگاه کاربر شما گوگل پلی سرویس نداشته باشد و یا آن را غیرفعال کرده باشد دیالوگی باز می شود و به کاربر پیشنهاد نصب گوگل پلی سرویس داده می شود تا قابلیت دریافت و ارسال پوش نوتیفیکیشن فعال شود. اگر در تابع بالا ",Object(a.b)("inlineCode",{parentName:"p"},"showDialog: false")," را قرار دهید، این دیالوگ برای کاربر باز نمی شود."),Object(a.b)("h2",{id:"تست-و-ثبت-دستگاه-در-پوشه"},"تست و ثبت دستگاه در پوشه"),Object(a.b)("p",null,"پس از اجرای برنامه و فراخوانی کد رجیستر پوشه، باید در ",Object(a.b)("strong",{parentName:"p"},"Android logcat")," لاگ‌های زیر را ببینید (ممکن است به دلیل ارتباط با سرور این پروسه چند ثانیه طول بکشد):"),Object(a.b)("blockquote",null,Object(a.b)("p",{parentName:"blockquote"},"در اندروید استودیو لاگ‌کت از ابزار موجود است. در صورتی که از ابزار دیگری مانند VSCode استفاده‌ می‌کنید می‌توانید از هر روشی برای مشاهده‌ی لاگ استفاده کنید. ",Object(a.b)("a",r({parentName:"p"},{href:"https://developer.android.com/studio/command-line/logcat"}),"مستندات اندروید برای لاگ‌کت"))),Object(a.b)("p",null,"برای مشاهده‌ی بهتر لاگ‌ها می‌توانید فیلتر ",Object(a.b)("inlineCode",{parentName:"p"},"Pushe")," را روی لاگ‌ها اعمال کنید."),Object(a.b)("pre",null,Object(a.b)("code",r({parentName:"pre"},{className:"language-bash"}),"# Android logcat:\n\n--------+ Started Initialization of Pushe 1.7 +--------\nTrying to register to Pushe\nSuccessfully registered to pushe\n")),Object(a.b)("p",null,"در صورتی که در یکی از این مراحل مشکلی وجود داشت، ابتدا ",Object(a.b)("a",r({parentName:"p"},{href:"flutter-faq"}),"سوالات متداول")," را بررسی کنید و در صورتی نیافتن مشکل آن را در ",Object(a.b)("a",r({parentName:"p"},{href:"https://github.com/pusheco/pushe-flutter/issues?utf8=%E2%9C%93&q=is%3Aissue"}),"Github issue")," مطرح کنید."),Object(a.b)("p",null,"برای مشاهده‌ی امکانات و قابلیت‌های بیشتر پوشه در فلاتر به مطالعه‌ی ادامه‌ی مستندات بپردازید."))}i.isMDXComponent=!0}}]);