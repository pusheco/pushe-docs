(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{140:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return c})),t.d(n,"rightToc",(function(){return b})),t.d(n,"default",(function(){return p}));t(0);var a=t(297);function r(){return(r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function l(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var c={id:"flutter-intro",title:"راه‌اندازی در فلاتر",sidebar_label:"راه‌اندازی سریع"},b=[{value:"پیش‌نیاز‌ها",id:"پیشنیازها",children:[]},{value:"اضافه‌کردن پلاگین به پروژه",id:"اضافهکردن-پلاگین-به-پروژه",children:[]},{value:"اضافه‌کردن محتوای مانیفست",id:"اضافهکردن-محتوای-مانیفست",children:[]},{value:"اضافه‌کردن کدهای لازم",id:"اضافهکردن-کدهای-لازم",children:[]},{value:"تست و ثبت دستگاه در پوشه",id:"تست-و-ثبت-دستگاه-در-پوشه",children:[]},{value:"ادامه‌ی کار",id:"ادامهی-کار",children:[{value:"پروژه‌ی نمونه در گیت‌هاب",id:"پروژهی-نمونه-در-گیتهاب",children:[]},{value:"سوالات و مشکلات احتمالی",id:"سوالات-و-مشکلات-احتمالی",children:[]},{value:"مشاهده‌ی امکانات بیشتر",id:"مشاهدهی-امکانات-بیشتر",children:[]}]}],i={rightToc:b},o="wrapper";function p(e){var n=e.components,t=l(e,["components"]);return Object(a.b)(o,r({},i,t,{components:n,mdxType:"MDXLayout"}),Object(a.b)("blockquote",null,Object(a.b)("p",{parentName:"blockquote"},"نسخه‌ی فعلی پلاگین فقط از سیستم‌عامل اندروید پشتیبانی می‌کند.")),Object(a.b)("h2",{id:"پیشنیازها"},"پیش‌نیاز‌ها"),Object(a.b)("p",null,"قبل از شروع کار موارد زیر را بررسی و از درستی آنها اطمینان حاصل نمایید."),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"برای گذر از تحریم سرور‌های Jcenter از ",Object(a.b)("strong",{parentName:"li"},"ابزار گذرازتحریم")," یا ... استفاده کنید."),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"MinSDKVersion")," >= 14 , ",Object(a.b)("inlineCode",{parentName:"li"},"TargetSDK")," >= 25"),Object(a.b)("li",{parentName:"ul"},"اپلیکیشن باید در کنسول ثبت‌شود. ",Object(a.b)("a",r({parentName:"li"},{href:"/docs/console/console-submit"}),"راهنمایی")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("strong",{parentName:"li"},"توکن مانیفست")," از کنسول برداشته‌شود."),Object(a.b)("li",{parentName:"ul"},"دستگاه تست باید دارای گوگل‌پلی‌سرویس بوده و اینترنت آن فعال‌باشد.")),Object(a.b)("h2",{id:"اضافهکردن-پلاگین-به-پروژه"},"اضافه‌کردن پلاگین به پروژه"),Object(a.b)("p",null,"به فایل ",Object(a.b)("inlineCode",{parentName:"p"},"pubspec.yaml")," پلاگین پوشه را اضافه‌کنید:"),Object(a.b)("pre",null,Object(a.b)("code",r({parentName:"pre"},{className:"language-json"}),"pushe: 1.0.1^\n")),Object(a.b)("p",null,"و محل قرارگیری آن در زیرمجموعه‌ی ",Object(a.b)("inlineCode",{parentName:"p"},"dependencies")," می‌باشد."),Object(a.b)("pre",null,Object(a.b)("code",r({parentName:"pre"},{className:"language-json"}),"dependencies:\n    pushe: 1.0.1^\n")),Object(a.b)("p",null,"سپس سینک کنید یا دستور ",Object(a.b)("inlineCode",{parentName:"p"},"flutter packages get")," را در ترمینال وارد کنید تا پلاگین‌ها به پروژه اضافه‌شوند."),Object(a.b)("h2",{id:"اضافهکردن-محتوای-مانیفست"},"اضافه‌کردن محتوای مانیفست"),Object(a.b)("blockquote",null,Object(a.b)("p",{parentName:"blockquote"},"محل فایل‌مانیفست ",Object(a.b)("inlineCode",{parentName:"p"},"android/app/src/main/AndroidManifest.xml")," می‌باشد.")),Object(a.b)("p",null,"تگ مانیفست را از ",Object(a.b)("a",r({parentName:"p"},{href:"https://console.pushe.co"}),"کنسول پوشه")," دریافت‌کنید و در فایل ",Object(a.b)("inlineCode",{parentName:"p"},"AndroidManifest.xml")," خود اضافه کنید. تگ دریافتی باید کدی همانند زیر باشد:"),Object(a.b)("pre",null,Object(a.b)("code",r({parentName:"pre"},{className:"language-xml"}),'<meta-data android:name="co.ronash.pushe.token" android:value="{PUSHE_TOKEN}" />\n')),Object(a.b)("p",null,"به جای ",Object(a.b)("inlineCode",{parentName:"p"},"{PUSHE_TOKEN}")," باید توکن برنامه‌ی خود را قرار دهید."),Object(a.b)("p",null,"و محل اضافه‌کردن آن در فایل ",Object(a.b)("inlineCode",{parentName:"p"},"AndroidManifest")," باید مطابق زیر باشد:"),Object(a.b)("pre",null,Object(a.b)("code",r({parentName:"pre"},{className:"language-xml"}),'<manifest ...>\n    <application ...>\n        ...\n        \x3c!-- تگ باید در اینجا قرار گیرد --\x3e\n        <meta-data android:name="co.ronash.pushe.token" android:value="{PUSHE_TOKEN}" />\n    </application>\n</manifest>\n')),Object(a.b)("p",null,"برای استفاده از ",Object(a.b)("strong",{parentName:"p"},"امکان ارسال اعلان با استفاده‌از موقعیت مکانی")," پرمیشن لوکیشن را نیز به مانیفست اضافه‌کنید:"),Object(a.b)("pre",null,Object(a.b)("code",r({parentName:"pre"},{className:"language-xml"}),'<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/>\n')),Object(a.b)("h2",{id:"اضافهکردن-کدهای-لازم"},"اضافه‌کردن کدهای لازم"),Object(a.b)("p",null,"فایل ",Object(a.b)("inlineCode",{parentName:"p"},"main.dart"),":"),Object(a.b)("p",null,"در بخش ",Object(a.b)("inlineCode",{parentName:"p"},"import"),"ها کد زیر را اضافه‌کنید تا کلاس‌های پوشه در فایل قابل‌استفاده شوند:"),Object(a.b)("pre",null,Object(a.b)("code",r({parentName:"pre"},{className:"language-java"}),"import 'package:pushe/pushe.dart';\n")),Object(a.b)("p",null,"و از کد زیر برای شروع‌ عملیات رجیسترکردن پوشه استفاده کنید:"),Object(a.b)("pre",null,Object(a.b)("code",r({parentName:"pre"},{className:"language-java"}),"Pushe.initialize();\n")),Object(a.b)("p",null,"اگر در تابع بالا مقدار ",Object(a.b)("inlineCode",{parentName:"p"},"showDialog: true")," گذاشته شود و دستگاه کاربر شما گوگل پلی سرویس نداشته باشد و یا آن را غیرفعال کرده باشد دیالوگی باز می شود و به کاربر پیشنهاد نصب گوگل پلی سرویس داده می شود تا قابلیت دریافت و ارسال پوش نوتیفیکیشن فعال شود. اگر در تابع بالا ",Object(a.b)("inlineCode",{parentName:"p"},"showDialog: false")," را قرار دهید، این دیالوگ برای کاربر باز نمی شود."),Object(a.b)("h2",{id:"تست-و-ثبت-دستگاه-در-پوشه"},"تست و ثبت دستگاه در پوشه"),Object(a.b)("p",null,"پس از اجرای برنامه و فراخوانی کد رجیستر پوشه، باید در ",Object(a.b)("strong",{parentName:"p"},"Android logcat")," لاگ‌های زیر را ببینید (ممکن است به دلیل ارتباط با سرور این پروسه چند ثانیه طول بکشد):"),Object(a.b)("blockquote",null,Object(a.b)("p",{parentName:"blockquote"},"در اندروید استودیو لاگ‌کت از ابزار موجود است. در صورتی که از ابزار دیگری مانند VSCode استفاده‌ می‌کنید می‌توانید از هر روشی برای مشاهده‌ی لاگ استفاده کنید. ",Object(a.b)("a",r({parentName:"p"},{href:"https://developer.android.com/studio/command-line/logcat"}),"مستندات اندروید برای لاگ‌کت"))),Object(a.b)("p",null,"برای مشاهده‌ی بهتر لاگ‌ها می‌توانید فیلتر ",Object(a.b)("inlineCode",{parentName:"p"},"Pushe")," را روی لاگ‌ها اعمال کنید."),Object(a.b)("pre",null,Object(a.b)("code",r({parentName:"pre"},{className:"language-js"}),"// Android logcat:\n\n--------+ Started Initialization of Pushe +--------\nTrying to register to Pushe\nSuccessfully registered to pushe\n")),Object(a.b)("h2",{id:"ادامهی-کار"},"ادامه‌ی کار"),Object(a.b)("p",null,"(بر روی لینک مورد نظر کلیک کنید)"),Object(a.b)("h3",{id:"پروژهی-نمونه-در-گیتهاب"},Object(a.b)("a",r({parentName:"h3"},{href:"https://github.com/pusheco/pushe-flutter"}),"پروژه‌ی نمونه در گیت‌هاب")),Object(a.b)("p",null,"بررسی امکانات در نمونه‌ای از قبل طراحی شده دارای تمام امکانات کتابخانه‌ی پوشه"),Object(a.b)("h3",{id:"سوالات-و-مشکلات-احتمالی"},Object(a.b)("a",r({parentName:"h3"},{href:"/docs/flutter/flutter-errors"}),"سوالات و مشکلات احتمالی")),Object(a.b)("p",null,"در صورتی که در یکی از مراحل زیر به مشکلی برخوردید یا هر سوالی در مورد کتابخانه‌ دارید"),Object(a.b)("h3",{id:"مشاهدهی-امکانات-بیشتر"},Object(a.b)("a",r({parentName:"h3"},{href:"/docs/flutter/flutter-advanced"}),"مشاهده‌ی امکانات بیشتر")),Object(a.b)("p",null,"مشاهده‌ی امکانات پیشرفته ارائه‌ شده در کتابخانه‌‌ی پوشه"))}p.isMDXComponent=!0},297:function(e,n,t){"use strict";t.d(n,"a",(function(){return b})),t.d(n,"b",(function(){return u}));var a=t(0),r=t.n(a),l=r.a.createContext({}),c=function(e){var n=r.a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):Object.assign({},n,e)),t},b=function(e){var n=c(e.components);return r.a.createElement(l.Provider,{value:n},e.children)};var i="mdxType",o={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},p=Object(a.forwardRef)((function(e,n){var t=e.components,a=e.mdxType,l=e.originalType,b=e.parentName,i=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&-1===n.indexOf(a)&&(t[a]=e[a]);return t}(e,["components","mdxType","originalType","parentName"]),p=c(t),u=a,d=p[b+"."+u]||p[u]||o[u]||l;return t?r.a.createElement(d,Object.assign({},{ref:n},i,{components:t})):r.a.createElement(d,Object.assign({},{ref:n},i))}));function u(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var l=t.length,c=new Array(l);c[0]=p;var b={};for(var o in n)hasOwnProperty.call(n,o)&&(b[o]=n[o]);b.originalType=e,b[i]="string"==typeof e?e:a,c[1]=b;for(var u=2;u<l;u++)c[u]=t[u];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,t)}p.displayName="MDXCreateElement"}}]);