(window.webpackJsonp=window.webpackJsonp||[]).push([[110],{220:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"rightToc",(function(){return r})),n.d(t,"default",(function(){return u}));n(0);var a=n(297);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c={id:"listener",title:"رویداد نوتیفیکیشن",sidebar_label:"رویداد اعلان"},r=[{value:"فعال‌کردن Notification listener",id:"فعالکردن-notification-listener",children:[{value:"ساخت GameObject",id:"ساخت-gameobject",children:[]},{value:"اضافه‌کردن کد به اسکریپت خود",id:"اضافهکردن-کد-به-اسکریپت-خود",children:[]}]},{value:"موارد اضافی",id:"موارد-اضافی",children:[{value:"استفاده از GameObject دلخواه",id:"استفاده-از-gameobject-دلخواه",children:[]}]}],l={rightToc:r},b="wrapper";function u(e){var t=e.components,n=o(e,["components"]);return Object(a.b)(b,i({},l,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("blockquote",null,Object(a.b)("p",{parentName:"blockquote"},"تمام نسخه‌ها")),Object(a.b)("p",null,"با فعال بودن این قابلیت می‌توانید هنگامی که نوتیفیکیشن یا جیسونی دریافت شود، از آن مطلع خواهید شد."),Object(a.b)("h2",{id:"فعالکردن-notification-listener"},"فعال‌کردن Notification listener"),Object(a.b)("p",null,"پوشه با استفاده از ",Object(a.b)("inlineCode",{parentName:"p"},"UnitySendMessage")," رویداد‌ها را اطلاع می‌دهد. برای دریافت پیام‌ها در اسکریپت گام‌های زیر را انجام‌دهید:"),Object(a.b)("h3",{id:"ساخت-gameobject"},"ساخت GameObject"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"یک GameObject به نام ",Object(a.b)("strong",{parentName:"li"},"PusheCallback")," ایجاد کنید و آن‌را به Hierarchy پروژه اضافه کنید."),Object(a.b)("li",{parentName:"ul"},"اسکریپت ",Object(a.b)("inlineCode",{parentName:"li"},"PusheCallback.cs")," را از فولدر ",Object(a.b)("inlineCode",{parentName:"li"},"Pushe")," به این آبجکت Attach کتید.")),Object(a.b)("blockquote",null,Object(a.b)("p",{parentName:"blockquote"},Object(a.b)("strong",{parentName:"p"},"محدودیت موجود برای دریافت کالبک‌ها"),":",Object(a.b)("br",null)),Object(a.b)("p",{parentName:"blockquote"},"موتور یونیتی زمانی اقدام به اجرای اسکریپت‌ها می‌کند، که بازی یا برنامه در حال اجرا در Forground باشد.",Object(a.b)("br",null),"\nبدین معنی که در صورت بسته‌شدن یا Pause شدن، برنامه به طور کامل به حالت ",Object(a.b)("inlineCode",{parentName:"p"},"onPause")," قرار می‌گیرد.\nنتیجه‌ این خواهد شد که: ",Object(a.b)("strong",{parentName:"p"},"در صورت باز نبودن بازی Callbackها در اسکریپ اجرا نخواهند شد.")),Object(a.b)("p",{parentName:"blockquote"},"در صورتی که بخواهید در تمام حالات از این رویدادها مطلع شوید باید کد نیتیو برای اندروید بنویسید.")),Object(a.b)("h3",{id:"اضافهکردن-کد-به-اسکریپت-خود"},"اضافه‌کردن کد به اسکریپت خود"),Object(a.b)("p",null,"کلاسی طراحی کنید و اینترفیس ",Object(a.b)("inlineCode",{parentName:"p"},"IPusheNotificationListener")," را پیاده‌سازی کنید. مثال:"),Object(a.b)("pre",null,Object(a.b)("code",i({parentName:"pre"},{className:"language-java"}),'public class PusheNotifListener : IPusheNotificationListener\n{\n    public void OnNotification(NotificationData notificationData)\n    {\n        // Pushe.Log("Notification received: " + notificationData);\n    }\n\n    public void OnCustomContentReceived(string customJson)\n    {\n        // Pushe.Log("Notification custom content received: " + customJson);\n    }\n\n    public void OnNotificationClick(NotificationData notificationData)\n    {\n        // Pushe.Log("Notification clicked: " + notificationData);\n    }\n\n    public void OnNotificationDismiss(NotificationData notificationData)\n    {\n        // Pushe.Log("Notification dismissed: " + notificationData);\n    }\n\n    public void OnButtonClick(NotificationButtonData notificationButtonData, NotificationData notificationData)\n    {\n        // Pushe.Log("Notification button clicked\\n Data: " + notificationData +\n                  // "\\n ButtonData: " + notificationButtonData);\n    }\n}\n')),Object(a.b)("p",null,"سپس کد زیر را فراخوانی کنید تا Listener اضافه‌شود:"),Object(a.b)("pre",null,Object(a.b)("code",i({parentName:"pre"},{className:"language-java"}),"PusheNotification.SetNotificationListener(new PusheNotifListener());\n")),Object(a.b)("h2",{id:"موارد-اضافی"},"موارد اضافی"),Object(a.b)("h3",{id:"استفاده-از-gameobject-دلخواه"},"استفاده از GameObject دلخواه"),Object(a.b)("blockquote",null,Object(a.b)("p",{parentName:"blockquote"},"از نسخه‌ی 0.4.4")),Object(a.b)("p",null,"در صورتی که قصد دارید شئی اضافه نداشته باشید و یا به هردلیلی امکان استفاده از ",Object(a.b)("inlineCode",{parentName:"p"},"PusheCallback")," ممکن نیست، می‌توانید با استفاده از کد زیر GameObject کاستوم استفاده کنید."),Object(a.b)("pre",null,Object(a.b)("code",i({parentName:"pre"},{className:"language-java"}),"PusheNotification.SetNotificationListener(gameObject.name, new PusheNotifListener());\n")),Object(a.b)("blockquote",null,Object(a.b)("p",{parentName:"blockquote"},Object(a.b)("strong",{parentName:"p"},"نکته"),": باید اسکریپت ",Object(a.b)("inlineCode",{parentName:"p"},"PusheCallback.cs")," به این GameObject متصل شده‌باشد.")))}u.isMDXComponent=!0},297:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return p}));var a=n(0),i=n.n(a),o=i.a.createContext({}),c=function(e){var t=i.a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):Object.assign({},t,e)),n},r=function(e){var t=c(e.components);return i.a.createElement(o.Provider,{value:t},e.children)};var l="mdxType",b={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},u=Object(a.forwardRef)((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,r=e.parentName,l=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&-1===t.indexOf(a)&&(n[a]=e[a]);return n}(e,["components","mdxType","originalType","parentName"]),u=c(n),p=a,s=u[r+"."+p]||u[p]||b[p]||o;return n?i.a.createElement(s,Object.assign({},{ref:t},l,{components:n})):i.a.createElement(s,Object.assign({},{ref:t},l))}));function p(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,c=new Array(o);c[0]=u;var r={};for(var b in t)hasOwnProperty.call(t,b)&&(r[b]=t[b]);r.originalType=e,r[l]="string"==typeof e?e:a,c[1]=r;for(var p=2;p<o;p++)c[p]=n[p];return i.a.createElement.apply(null,c)}return i.a.createElement.apply(null,n)}u.displayName="MDXCreateElement"}}]);