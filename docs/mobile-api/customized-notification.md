---
id: customized-notification
title: ارسال اعلان شخصی‌سازی شده
sidebar_label: ارسال اعلان شخصی‌سازی شده
hide_title: true
description: راهنمای وب‌سرویس پوشه - ارسال اعلان شخصی‌سازی شده
---

import CustomizedNotificationTab from "./codes/customized-notification.mdx";
import Platforms from "@site/src/components/Platforms.jsx";


# ارسال اعلان شخصی‌سازی شده

<Platforms android/>

## تعریف اعلان شخصی‌سازی شده

در این نوع اعلان با استفاده از
**برچسب‌هایی(tag)**
که به کاربران خود اختصاص داده‌اید،
می‌توانید اعلان با عنوان(title) و متن(content) شخصی‌سازی شده متناسب با هر کاربر ارسال کنید.

 برای دریافت اطلاعات بیشتر از نحوه برچسب‌گذاری
  (**tag**)
  کاربران می‌توانید به بخش [برچسب‌گذاری در مستندات کتابخانه پوشه](/docs/android-studio/tag)  مراجعه کنید.


:::important **نکته مهم**
<Platforms android/>

این نوع اعلان هم‌اکنون فقط در پلتفرم
`Android`
قابل استفاده می‌باشد.
:::

:::warning **احتیاط**
این نوع اعلان فقط زمانی ارسال میشود که
**[اعلان فیلتردار](/docs/mobile-api/filtered-notification)**
باشد.
(اعلان فیلتردار به اعلانی گفته میشود که حداقل یکی از کلید های
```filters```, ```max_recipient```, ```uniqe:True```
را دارا باشد.)
:::


## کلید‌های ارسال شخصی‌سازی شده

برای ارسال اعلان شخصی‌سازی شده کافیست در عنوان(title) و متن اعلان(content) از ساختار زیر پیروی کنید:

```
{{ tag_key | default_value }}
```

**به عنوان نمونه:**
```json
"data": {
    "title": "عزیز {{ name | کاربر }} سلام",
    "content": "درصد تخفیف تعلق گرفت {{ discount | 10 }} ،به شما همراه گرامی"
}
```

در هنگام ارسال اعلان به هر مخاطبین ساختار استفاده شده  به ازای هر
**مخاطب**
 به صورت زیر جایگذاری می‌شود:

- در صورتی که مخاطب برچسب تعیین شده
 (**tag_key**)
 را داشته باشد، مقدار این برچسب جایگزین ساختار تعیین شده خواهد شد.

```json
"data": {
    "title": "سلام محمد عزیز",
    "content": "به شما همراه گرامی، ۱۰۰ درصد تخفیف تعلق گرفت"
}
```

- در صورتی که مخاطب برچسب تعیین شده
 (**tag_key**)
 را نداشته باشد، مقدار
**پیش فرض تعیین شده (default value)**
 جایگزین ساختار تعیین شده خواهد شد.

```json
"data": {
    "title": "سلام کاربر عزیز",
    "content": "به شما همراه گرامی، ۱۰ درصد تخفیف تعلق گرفت"
}
```

:::tip **نکته**
مقدار
`‍default_value`
در ساختار اعلان شخصی‌سازی شده می‌توانید
**بیش از یک کلمه**
 باشد.
:::

:::warning **تغییر جهت متن**

 توجه داشته باشید استفاده از کاراکتر‌های انگلیسی در متون فارسی باعث تغییر
  **جهت متن (direction)**
  می‌شود.

**توصیه ما به شما این است که ابتدا عنوان و متن فارسی خود را نوشته و سپس ساختارهای مورد نظر رو در جای مناسب جایگزین کنید.**

**به عنوان نمونه:**

```
{
    "title":"سلام محمد خوبی؟"
}
```
با جایگزین کردن ساختار شخصی‌سازی به جای **محمد** متن حاصل بدین صورت خواهد شد:

```
{
    "title":"سلام  {{  کاربر | name }} خوبی؟"
}
```
:::


## نمونه کد ارسال اعلان شخصی‌سازی شده


در نمونه کد های زیر حداقل کد مورد نیاز برای ارسال یک اعلان شخصی‌سازی شده
 در زبان های مختلف با عنوان و متن نمایش داده شده است.
برای مشاهده تمامی کلید های قابل استفاده به بخش [تمامی کلید های اعلان](/docs/mobile-api/notification-keys) مراجعه کنید.

<CustomizedNotificationTab />