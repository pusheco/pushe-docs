<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.54">


<title data-react-helmet="true">بررسی آماده‌ به‌کار شدن کتابخانه | پوشه</title>

<meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="بررسی آماده‌ به‌کار شدن کتابخانه | پوشه"><meta data-react-helmet="true" name="description" content="شروع به کار پوشه در برنامه در دو مرحله‌ی اصلی انجام می‌شود. **Initialization** و **Registration**."><meta data-react-helmet="true" property="og:description" content="شروع به کار پوشه در برنامه در دو مرحله‌ی اصلی انجام می‌شود. **Initialization** و **Registration**."><meta data-react-helmet="true" property="og:url" content="https://docs.pushe.co/docs/android-studio/initialzation">

<link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico">


<link rel="stylesheet" href="/styles.ab52f940.css">


<link rel="preload" href="/styles.9ff22cb7.js" as="script">

<link rel="preload" href="/runtime~main.0e9a35ab.js" as="script">

<link rel="preload" href="/main.96aa680a.js" as="script">

<link rel="preload" href="/1.fc7b874b.js" as="script">

<link rel="preload" href="/2.b8ef795f.js" as="script">

<link rel="preload" href="/3.25707238.js" as="script">

<link rel="preload" href="/1be78505.8b540b69.js" as="script">

<link rel="preload" href="/20ac7829.7b5ac282.js" as="script">

<link rel="preload" href="/17896441.ad09d44a.js" as="script">

<link rel="preload" href="/606d351c.a02d49cb.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="پوشه "><strong class="navbar__title"> </strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">مستندات</a><a activeclassname="navbar__link--active" to="https://pushe.co" class="navbar__item navbar__link" href="https://pushe.co">وب‌سایت پوشه</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/pusheco" class="navbar__item navbar__link">گیت‌هاب پوشه</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="پوشه "><strong class="navbar__title"> </strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" position="left" href="/">مستندات</a></li><li class="menu__list-item"><a activeclassname="navbar__link--active" to="https://pushe.co" class="menu__link" position="left" href="https://pushe.co">وب‌سایت پوشه</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://github.com/pusheco" class="menu__link" position="left">گیت‌هاب پوشه</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="#!">اندروید استودیو</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/android-studio/intro">راه‌اندازی سریع</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/android-studio/advanced-setup">راه‌اندازی پیشرفته</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/android-studio/multidex">فعال‌کردن مالتی‌دکس</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="#!">قابلیت‌ها و امکانات</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" tabindex="0" href="/docs/android-studio/initialzation">بررسی آماده‌ به‌کار شدن کتابخانه</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/android-studio/unification">تمایز کاربران با شناسه‌ها</a></li><li class="menu__list-item"><a class="menu__link" href="#!" tabindex="0">گروه بندی کاربران</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/android-studio/topic">تاپیک</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/android-studio/notification-channel">کانال نوتیفیکیشن</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/android-studio/tag">برچسب (Tag)</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/android-studio/d2d-notification">اعلان از دیوایس به دیوایس دیگر</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/android-studio/notification-listener">رویدادهای نوتیفیکیشن</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/android-studio/disable-notification">غیرفعال‌کردن نمایش اعلان</a></li><li class="menu__list-item"><a class="menu__link" href="#!" tabindex="0">آنالیتیکس</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/android-studio/events">رویدادها</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/android-studio/multiple-fcm">استفاده‌ی همزمان با FCM</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="#!">سوالات و مشکلات</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/android-studio/troubleshoot">خطاهای ممکن</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/android-studio/faq">سوالات</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="#!">تاریخچه نسخه های کتابخانه</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/android-studio/releasenote">تغییرات نسخه ها</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1cc7"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">بررسی آماده‌ به‌کار شدن کتابخانه</h1></header><div class="markdown"><p>شروع به کار پوشه در برنامه در دو مرحله‌ی اصلی انجام می‌شود. <strong>Initialization</strong> و <strong>Registration</strong>.</p><blockquote><p><strong>تفاوت Registration و Initialization</strong>:</p><p>هنگامی که ماژول‌های مختلف (نوتیفیکیشن، آنالیتیکس و ...) به طور کامل برای استفاده آماده شوند <code>Initialization</code> انجام‌شده است.</p><p>در صورتی که نصب این دستگاه در سرورهای پوشه ثبت شود و امکان ارسال اعلان ممکن شود، <code>Registration</code> انجام‌ شده است</p><p>لذا عملیات <code>Registration</code> نیاز به اینترنت دستگاه‌ دارد.</p></blockquote>می‌توانید از اتمام initialization پوشه در برنامه خود با خبر شوید. به این ترتیب می‌توانید پس از initialize شدن ماژول‌های پوشه عملیات دلخواه خود را انجام دهید.<p>به این منظور از دستور زیر استفاده نمایید:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Pushe.setInitializationCompleteListener(new Pushe.Callback() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @Override</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public void onComplete() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Log.i(&quot;Pushe&quot;, &quot;Pushe initialization completed successfully.&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        // your logic</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">});</span></div></div></div></div></div><p><strong>نکته</strong>: انجام‌شدن Initialization به معنی ثبت‌شدن دستگاه نیست و مربوط به ماژول‌های لایبرری‌ست.</p><p>همچنین برای چک کردن initialization پوشه می‌توانید از متد زیر استفاده کنید:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Pushe.isInitialized();</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="بررسی-رجیستر-شدن"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#بررسی-رجیستر-شدن" title="Direct link to heading">#</a>بررسی رجیستر شدن</h3><p>برای اینکه بررسی کنید عملیات رجیسترکردن دستگاه در پوشه انجام شده‌ است، می‌توانید از دو روش استفاده کنید:</p><ul><li>تابع <code>isRegistered</code></li><li>ست‌کردن Listener تا وقتی عملیات رجیستر شدن دستگاه در پوشه انجام شد این listener فراخوانی شود</li></ul><div dir="ltr"><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="isregistered-boolean"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#isregistered-boolean" title="Direct link to heading">#</a><code>isRegistered(): Boolean</code></h4></div><p>در صورتی که دستگاه از Firebase cloud توکن‌ گرفته باشد و نصب دستگاه در سرور‌های پوشه ثبت‌ شده باشد مقدار خروجی صحیح خواهد بود.</p><div><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="false" class="tab-item tabItem_3zTA">Java</li><li role="tab" tabindex="0" aria-selected="true" class="tab-item tabItem_3zTA tab-item--active">Kotlin</li></ul><div role="tabpanel" class="margin-vert--md"><div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">val isPusheRegistered = Pushe.isRegistered()</span></div></div></div></div></div></div></div></div><br><div dir="ltr"><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="setregistrationcompletelistenercallback-registercallback"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#setregistrationcompletelistenercallback-registercallback" title="Direct link to heading">#</a><code>setRegistrationCompleteListener(Callback registerCallback)</code></h4></div><p>در صورتی که دستگاه از Firebase cloud توکن‌ گرفته باشد و نصب دستگاه در سرور‌های پوشه ثبت‌ شده باشد تابع registerCallback اجرا خواهد شد.</p><div><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="false" class="tab-item tabItem_3zTA">Java</li><li role="tab" tabindex="0" aria-selected="true" class="tab-item tabItem_3zTA tab-item--active">Kotlin</li></ul><div role="tabpanel" class="margin-vert--md"><div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Pushe.setRegistrationCompleteListener {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // Registration is completed, do whatever you want.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div></div></div></div></div></div><blockquote><p>بهتر است برای استفاده از امکانات پوشه از این تابع استفاده کنید تا مطمئن شوید تا رجیستر  انجام نشده‌ است،‌ امکانات فراخوانی نشوند. برای مثال وقتی می‌خواهید کاربری را عضو تاپیکی کنید بهتر است ابتدا بررسی کنید که عملیات رجیستر پوشه انجام شده باشد. </p></blockquote></div></article><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/android-studio/multidex"><div class="pagination-nav__link--sublabel">Previous</div><div class="pagination-nav__link--label">« فعال‌کردن مالتی‌دکس</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/android-studio/unification"><div class="pagination-nav__link--sublabel">Next</div><div class="pagination-nav__link--label">تمایز کاربران با شناسه‌ها »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#بررسی-رجیستر-شدن" class="contents__link">بررسی رجیستر شدن</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="text--center"><div></div></div></div></footer>
</div>

<script src="/styles.9ff22cb7.js"></script>

<script src="/runtime~main.0e9a35ab.js"></script>

<script src="/main.96aa680a.js"></script>

<script src="/1.fc7b874b.js"></script>

<script src="/2.b8ef795f.js"></script>

<script src="/3.25707238.js"></script>

<script src="/1be78505.8b540b69.js"></script>

<script src="/20ac7829.7b5ac282.js"></script>

<script src="/17896441.ad09d44a.js"></script>

<script src="/606d351c.a02d49cb.js"></script>


</body>
</html>