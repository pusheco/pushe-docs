<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus">


<title data-react-helmet="true">راه اندازی پیشرفته</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="پوشه · مستندات پوشه"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="description" content="بخش‌های این صفحه:"><meta data-react-helmet="true" property="og:description" content="بخش‌های این صفحه:"><meta data-react-helmet="true" property="og:url" content="https://docs.pushe.co/docs/android-studio/advanced-setup">

<link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico">


<link rel="stylesheet" href="/styles.0cf0ceab.css">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}function e(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}var n=window.matchMedia("(prefers-color-scheme: dark)");n.addListener((function(n){null===e()&&t(n.matches?"dark":"")}));var a=e();null!==a?t(a):n.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="پوشه "><strong> </strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">مستندات</a><a class="navbar__item navbar__link" activeclassname="navbar__link--active" to="https://pushe.co" href="https://pushe.co">وب‌سایت پوشه</a><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://github.com/pusheco">گیت‌هاب پوشه</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="پوشه "><strong> </strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/">مستندات</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="navbar__link--active" to="https://pushe.co" href="https://pushe.co">وب‌سایت پوشه</a></li><li class="menu__list-item"><a class="menu__link" target="_blank" rel="noopener noreferrer" href="https://github.com/pusheco">گیت‌هاب پوشه</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive"><button aria-label="Open Menu" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">اندروید استودیو</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/android-studio/intro">راه‌اندازی سریع</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/android-studio/advanced-setup">راه‌اندازی پیشرفته</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/android-studio/multidex">رفع خطای مربوط به MultiDex</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">قابلیت‌ها و امکانات</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/android-studio/initialzation">بررسی آماده‌ به‌کار شدن کتابخانه</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/android-studio/unification">تمایز کاربران با شناسه‌ها</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">گروه بندی کاربران</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/android-studio/topic">تاپیک</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/android-studio/notification-channel">کانال نوتیفیکیشن</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/android-studio/tag">برچسب (Tag)</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/android-studio/d2d-notification">اعلان از دیوایس به دیوایس دیگر</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/android-studio/notification-listener">رویدادهای نوتیفیکیشن</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/android-studio/disable-notification">غیرفعال‌کردن نمایش اعلان</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">آنالیتیکس</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/android-studio/events">رویدادها</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/android-studio/multiple-fcm">استفاده‌ی همزمان با FCM</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">سوالات و مشکلات</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/android-studio/troubleshoot">خطاهای ممکن</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/android-studio/faq">سوالات</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">راه اندازی پیشرفته</h1></header><div class="markdown"><p>بخش‌های این صفحه:</p><ul><li><a href="#%D8%B4%D8%AE%D8%B5%DB%8C%D8%B3%D8%A7%D8%B2%DB%8C-%D9%85%D8%A7%DA%98%D9%88%D9%84%D9%87%D8%A7%DB%8C-sdk">ماژول‌های SDK</a></li><li><a href="#override-%DA%A9%D8%B1%D8%AF%D9%86-%D9%84%D8%A7%DB%8C%D8%A8%D8%B1%D8%B1%DB%8C%D9%87%D8%A7%DB%8C-%D9%85%D9%88%D8%B1%D8%AF-%D9%86%DB%8C%D8%A7%D8%B2-%D9%BE%D9%88%D8%B4%D9%87">اضافه‌کردن لایبرری‌هایی که ممکن است با پوشه ایجاد تداخل کنند.</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="شخصیسازی-ماژولهای-sdk"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#شخصیسازی-ماژولهای-sdk" title="Direct link to heading">#</a>شخصی‌سازی ماژول‌های SDK</h2><p>کتابخانه پوشه ماژولار طراحی شده است. یعنی شما میتوانید بسته به نیاز خودتان هر ماژولی را که به امکاناتش نیاز دارید به اپلیکیشن‌تان اضافه کنید.
ماژول base که در بخش راه‌اندازی سریع به اپ اضافه شد شامل همه ماژول‌های کتابخانه می‌باشد.
ممکن است شما در اپلیکیشن‌تان فقط بخواهید از پوشه برای ارسال و دریافت نوتیفیکیشن استفاده کنید و به امکانات آنالیتیک نیازی نداشته باشید. در این صورت به جای اضافه کردن ماژول base به کتابخانه فقط ماژول notification و core را به اپلیکیشن‌تان اضافه میکنید. هر ماژولی را که تصمیم گرفتید بر حسب نیاز به اپلیکیشنتان اضافه کنید ماژول core را باید حتما اضافه کنید. ماژول  core پیش‌نیاز است.
در ادامه نگاهی به ماژول‌های پوشه می‌اندازیم.</p><p>ماژول <strong>Base</strong> متشکل از سه ماژول اصلی است:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="core"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#core" title="Direct link to heading">#</a>Core</h3><p>مدیریت پیام‌های ارسالی و دریافتی به عهده‌ی این ماژول است.</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">co</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">pushe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">plus</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">core</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">pushe_version</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="notification"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#notification" title="Direct link to heading">#</a>Notification</h3><p>این ماژول ساخت و مدیریت نوتیفیکیشن‌هایی که به کاربر نمایش داده می‌شوند را برعهده دارد و تمام موارد مربوط به ساخت نوتیفیکیشن در این ماژول انجام می‌شود.</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">co</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">pushe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">plus</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">notification</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">pushe_version</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="analytics"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#analytics" title="Direct link to heading">#</a>Analytics</h3><p>موارد track کردن رفتار کاربر در برنامه‌ی شما مانند تعداد بازکردن برنامه، ارسال و دریافت Event و Ecommerce data و ... در این ماژول انجام می‌شود.
در بخش مربوط به <a href="/docs/android-studio/unification">رویدادها</a> می‌توانید درباره کاربردهای این ماژول بیشتر بدانید.</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">co</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">pushe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">plus</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">analytics</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">pushe_version</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="روش-اضافهکردن-ماژولهای-دلخواه"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#روش-اضافهکردن-ماژولهای-دلخواه" title="Direct link to heading">#</a>روش اضافه‌کردن ماژول‌های دلخواه</h3><p>همانظور که گفتیم ممکن است شما بخواهید بر حسب نیاز از همه‌ی امکانات استفاده نکنید. در این صورت می‌توانید به صورت زیر ماژول‌های لازم را اضافه‌کنید تا حجم اپلیکیشن‌تان کاهش پیدا کند.</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-java codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// به هر ماژولی که نیاز داشته باشید این ماژول را باید حتما اضافه کنید</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">implementation </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;co.pushe.plus:core:${pushe_version}&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// در صورتی که میخواهید از قابلیت‌های مربوط به نمایش نوتیفیکیشن به کاربر استفاده کنید این ماژول را اضافه کنید</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">implementation </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;co.pushe.plus:notification:${pushe_version}&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// در صورتی که میخواهید از قابلیت‌های مربوط به ارسال رویداد استفاده کنید این ماژول را اضافه کنید</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">implementation </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;co.pushe.plus:analytics:${pushe_version}&#x27;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>در صورتی که میخواهید از تمام امکانات پوشه استفاده کنید تنها کافی است ماژول base را به اپلیکیشن‌تان اضافه کنید. به جای <code>${pushe_version}</code> آخرین نسخه کتابخانه را قرار دهید.</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-java codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">implementation </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;co.pushe.plus:base:${pushe_version}&#x27;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="override-کردن-لایبرریهای-مورد-نیاز-پوشه"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#override-کردن-لایبرریهای-مورد-نیاز-پوشه" title="Direct link to heading">#</a>Override کردن لایبرری‌های مورد نیاز پوشه</h2><p>پوشه از این لایبرری‌ها برای منطق SDK استفاده می‌کند:</p><ul><li><code>Firebase-messaging</code>: رد و بدل پیام‌ها</li><li>Custom <code>RxJava</code>: کم‌کردن حجم RxJava</li><li><code>WorkManager</code>: اجرای کدهای بکگراند مانند Analytics</li><li><code>playservice-location</code>: ارسال برپایه‌ی موقعیت و Geofencing</li><li><code>playservice-ads-identifier</code>: گرفتن <code>GoogleAdvertisingId</code> در بخش <a href="/docs/android-studio/unification">شناسه‌ها</a></li></ul><p>در صورتی که در پروژه یکی یا چند از لیست فوق را اضافه‌ کردید، برای جلوگیری از مشکلات احتمالی این مطلب را مطالعه کنید.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="اضافهکردن-rxjava"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#اضافهکردن-rxjava" title="Direct link to heading">#</a>اضافه‌کردن RxJava</h3><p>با توجه به اینکه پوشه از RxJavaی ویرایش شده استفاده می‌کند، در صورتی که بخواهید از RxJava در برنامه‌ی خود استفاده کنید باید این ماژول را از پوشه جدا کنید.</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">dependencies </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token function" style="color:rgb(130, 170, 255)">implementation</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;co.pushe.plus:base:$latest&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        exclude group</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;co.pushe.plus&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> module</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;rxjava&#x27;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Exclude custom rxjava</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// RxJava -- when rxJava of Pushe is excluded</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    implementation </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;io.reactivex.rxjava2:rxjava:$latest&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="اضافهکردن-لایبرریهای-firebase"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#اضافهکردن-لایبرریهای-firebase" title="Direct link to heading">#</a>اضافه‌کردن لایبرری‌های Firebase</h3><p>در صورتی که کتابخانه‌ای از فایربیس استفاده می‌کند که خود از <code>Firebase-messaging</code> استفاده می‌کند و یا خود از این لایبرری استفاده می‌کنید، ممکن است به دلیل اختلاف نسخه‌ی لایبرری‌ها در هنگام سینک خطا رخ دهد. برای حل این مشکل <code>firebase-messaging</code> و <code>firebase-iid</code> را اضافه کرده و نسخه‌ی آنها را مطابق دیگر لایبرری‌های فایربیس خود قرار دهید:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">dependencies </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Any library that could affect firebase-messaging (Firebase-analytics, etc)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Add firebase-messaging and firebase-iid with the desired version</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    implementation </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;com.google.firebase:firebase-messaging:$fcm_version&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    implementation </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;com.google.firebase:firebase-iid:$iid_version&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>در این حالت این دو لایبرری مطابق بقیه بروز خواهند شد.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="workmanager"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#workmanager" title="Direct link to heading">#</a>WorkManager</h3><ul><li>در صورتی که از <code>AndroidX</code> استفاده نمی‌کنید و کماکان پروژه از <code>Android support</code> استفاده می‌کند، پوشه از آخرین نسخه‌ی <code>WorkManager</code> استفاده می‌کند و مشکلی رخ نمی‌دهد.</li><li>در صورتی که از <code>AndroidX</code> استفاده می‌کنید باید <code>WorkManager</code> نسخه‌ی ۱ را از پوشه جدا کنید و لایبرری <code>WorkManager</code> نسخه‌ی ۲ را در پروژه‌ی خود به همراه <code>lifecycle-ext</code> اضافه کنید تا در پوشه <code>ClassNotFoundException</code> و خطای <code>Duplication</code> رخ ندهد:</li></ul><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">dependencies </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">implementation</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;co.pushe.plus:base:$latest&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        exclude group</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;android.arch.work&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> module</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;work-runtime-ktx&#x27;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Exclude non-androidx work manager</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        exclude group</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;android.arch.work&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> module</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;work-rxjava2&#x27;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Exclude non-androidx work manager</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// WorkManager -- when workManager excluded</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    implementation </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;androidx.work:work-runtime-ktx:2.0.1&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    implementation </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;androidx.work:work-rxjava2:2.0.1&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    implementation </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;androidx.lifecycle:lifecycle-extensions:2.1.0&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><blockquote><p><strong>نکته‌ی مهم</strong>: نسخه‌ی <code>2.1.0</code> WorkManager با نسخه‌ی فعلی پوشه مشکل دارد و به همین دلیل بایستی نسخه‌ی حداکثر <code>2.0.1</code> استفاده کنید.</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="جمعبندی"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#جمعبندی" title="Direct link to heading">#</a>جمع‌بندی</h3><p>در صورتی که بخواهید کتابخانه‌ای اضافه کنید که قبلا اضافه‌شده (درون یک کتابخانه‌ی دیگر مانند پوشه)، در صورتی که مشکلی در این پروسه رخ می‌دهد،‌ ساده‌ترین راه‌حل اضافه کردن خود کتابخانه بصورت دستی‌ست تا Gradle این کتابخانه را override کند.<br>
حالت کامل اضافه‌کردن کتابخانه‌ها برای پوشه بصورت زیر خواهد بود:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">dependencies </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">implementation</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;co.pushe.plus:base:$latest&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        exclude group</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;android.arch.work&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> module</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;work-runtime-ktx&#x27;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Exclude non-androidx work manager</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        exclude group</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;android.arch.work&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> module</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;work-rxjava2&#x27;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Exclude non-androidx work manager</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        exclude group</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;co.pushe.plus&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> module</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;rxjava&#x27;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Exclude custom rxjava</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// RxJava -- when rxJava is excluded</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    implementation </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;io.reactivex.rxjava2:rxjava:2.2.9&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// WorkManager -- when workManager excluded</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    implementation </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;androidx.work:work-runtime-ktx:2.0.1&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    implementation </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;androidx.work:work-rxjava2:2.0.1&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    implementation </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;androidx.lifecycle:lifecycle-extensions:2.1.0&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Firebase stuff which are androidX</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Add the Firebase SDK for Google Analytics</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    implementation </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;com.google.firebase:firebase-analytics:17.2.2&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//implementation &#x27;com.google.firebase:firebase-auth:19.2.0&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//implementation &#x27;com.google.firebase:firebase-firestore:21.3.1&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//implementation &#x27;com.google.firebase:firebase-appindexing:19.0.0&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// To use other services of Firebase along with Pushe, override these two and add them with the version you desire</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    implementation </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;com.google.firebase:firebase-messaging:20.1.0&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    implementation </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;com.google.firebase:firebase-iid:20.0.2&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre></div></article><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/android-studio/intro"><h5 class="pagination-nav__link--sublabel">Previous</h5><h4 class="pagination-nav__link--label">« راه اندازی در اندروید استودیو</h4></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/android-studio/multidex"><h5 class="pagination-nav__link--sublabel">Next</h5><h4 class="pagination-nav__link--label">رفع خطای مربوط به MultiDex »</h4></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#شخصیسازی-ماژولهای-sdk" class="contents__link">شخصی‌سازی ماژول‌های SDK</a><ul><li><a href="#core" class="contents__link">Core</a></li><li><a href="#notification" class="contents__link">Notification</a></li><li><a href="#analytics" class="contents__link">Analytics</a></li><li><a href="#روش-اضافهکردن-ماژولهای-دلخواه" class="contents__link">روش اضافه‌کردن ماژول‌های دلخواه</a></li></ul></li><li><a href="#override-کردن-لایبرریهای-مورد-نیاز-پوشه" class="contents__link">Override کردن لایبرری‌های مورد نیاز پوشه</a><ul><li><a href="#اضافهکردن-rxjava" class="contents__link">اضافه‌کردن RxJava</a></li><li><a href="#اضافهکردن-لایبرریهای-firebase" class="contents__link">اضافه‌کردن لایبرری‌های Firebase</a></li><li><a href="#workmanager" class="contents__link">WorkManager</a></li><li><a href="#جمعبندی" class="contents__link">جمع‌بندی</a></li></ul></li></ul></div></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="text--center"></div></div></footer>
</div>

<script src="/styles.1085071c.js"></script>

<script src="/runtime~main.0b755f32.js"></script>

<script src="/main.dbc5ca5a.js"></script>

<script src="/1.cccd3c33.js"></script>

<script src="/2.db5714ab.js"></script>

<script src="/1be78505.fce65207.js"></script>

<script src="/20ac7829.107ef7e2.js"></script>

<script src="/17896441.fefaf40a.js"></script>

<script src="/d120cb0d.48dfb4c5.js"></script>


</body>
</html>