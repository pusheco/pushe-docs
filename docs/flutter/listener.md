---
id: listener
title: رویداد نوتیفیکیشن
---

<platform android />

> نسخه‌ی 0.9.0 به بعد

در صورتی که پیامی از پوشه به کاربر ارسال شود (نوتیفیکیشن و یا جیسون)، می‌توان از آنها باخبر شد.
برای اینکار می‌توانید کالبکی تعریف‌کنید و هنگام رخ‌دادن یکی از رویدادهای زیر کدهای خود را فراخوانی کنید.
* دریافت نوتیفیکیشن
* دریافت JSON (Custom content)
* کاربر بر روی اعلان کلیک کند
* کاربر اعلان را رد کند
* کاربر بر روی دکمه‌ای از اعلان کلیک کند

## نحوه‌ی کارکرد رویدادها در فلاتر

با توجه به محدودیت‌های فلاتر در
background
دریافت رویدادها در زمانی که برنامه باز است و زمانی که برنامه بسته است، متفاوت خواهد بود. در صورتی که برنامه باز باشد داده‌های لازم در غالب `NotificationData`
دریافت خواهند شد،‌ اما در صورتی که برنامه بسته باشد و
FlutterEngine
در حال اجرا نباشد، رویداد در توابع عادی که درون
main
اصلی فراخوانی می‌شوند قابل استفاده نیستند و در عوض در تابعی دیگر جدا از بقیه‌ی کلاس‌ها فراخوانی می‌شوند.


## تابع `setNotificationListener`

این تابع برای

|پارامتر ورودی|استفاده|
|:--:|--|
|onReceived|زمانی که نوتیفیکیشن دریافت شد این متد اجرا می‌شود.|
|onClicked|زمانی که کاربر روی نوتیفیکیشن کلیک کند، این متد اجرا می‌شود|
|onDismissed|زمان که کاربر نوتیفیکیشن را رد کند، این متد اجرا می‌شود|
|onButtonClicked|زمانی که کاربر روی یک دکمه‌ی نوتیفیکیشن کلیک‌کند، این متد اجرا می‌شود|
|onCustomContentReceived|زمانی که نوتیفیکیشن همراه با جیسون دلخواه و یا جیسون دلخواه‌، دریافت شود این متد اجرا می‌شود|
|onBackgroundNotificationReceived|تابعی که هنگام دریافت نوتیفیکیشن در زمان بسته‌بودن برنامه فراخوانی می‌شود|




```js
Pushe.setNotificationListener(
  onReceived: (notificationData) { /* Your code */ },
  onClicked: (notificationData) { /* Your code */ },
  onDismissed: (notificationData) { /* Your code */ },
  onButtonClicked: (notificationData, clickedButton) { /* Your code */ },
  onCustomContentReceived: (customContent) { /* Your code */ },
);
```

آرگومان‌های ورودی نیز رشته‌هایی با فرمت زیر هستند:

* `notificationData`: این رشته اطلاعات نوتیفکیشن را در غالب یک جیسون دارد. از قبیل تیتر، متن.

فیلد|توضیحات|
|:--:|--|
|title|تیتر نوتیفیکیشن|
|content|محتوای نوتیفیکیشن|
|bigTitle|تیتر بزرگ نوتیفیکیشن|
|bigContent|محتوای بزرگ نوتیفیکیشن|
|summary|متن خلاصه‌ی نوتیفکیشن|
|imageUrl|لینک عکس نوتیفیکیشن|
|iconUrl|لینک آیکون نوتیفیکیشن|
|customContent|جیسون دلخواه نوتیفیکیشن|
|buttons|لیست دکمه‌هایی که نوتیفیکیشن دارد|

* `clickedButton`: این رشته اطلاعات دکمه‌ي کلیک‌شده را در غالب جیسون‌دارد.

|فیلد|توضیحات|
|:--:|--|
|id|شناسه‌ای برای تشخیص دکمه|
|text|متن دکمه|

* `customContent`: این رشته جیسونی است که توسعه‌دهنده هنگام ساخت و ارسال نوتیفیکیشن به آن ضمیمه می‌کند.


