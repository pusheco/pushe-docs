import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import languages from '@site/src/components/languages.js';
import BlankLink from '@site/src/components/BlankLink.jsx';


<Tabs
    groupId="language-codes"
    defaultValue="1"
    values={languages}
>

<TabItem value="1">

* در این نمونه کد از <BlankLink href="https://curl.haxx.se/">cURL</BlankLink> استفاده شده است که می‌توانیدتوسط `sudo apt install curl` آن را نصب کنید.

```bash
curl -X POST https://api.pushe.co/v2/messaging/notifications/ \
-H 'authorization: Token YOUR_TOKEN' \
-H 'content-type: application/json' \
-d '{
"app_ids": "YOUR_APP_ID", 
"filters": {
    "device_id": ["device_id_1","device_id_3", "device_id_2", "device_id_4"]
}, 
"data": {"title": "عنوان پیام", "content": "محتوای پیام"}
}'
```

</TabItem>


<TabItem value="2">

* برای اجرای این کد باید ابتدا پکیج <BlankLink href='https://www.npmjs.com/package/axios'>axios</BlankLink> را نصب کنید
‍`npm install axios`


```js
const axios = require('axios');

const YOUR_TOKEN = 'put your token here ...';
const YOUR_APP_ID = 'put your app id here ...';

const url = `https://api.pushe.co/v2/messaging/notifications/`;

const options = {
    headers: {
        'Authorization': `Token ${YOUR_TOKEN}`,
        'Content-Type': 'application/json'
    }
};

const data = {
    app_ids: YOUR_APP_ID,
    data: {
        title: 'عنوان پیام',
        content: 'متن پیام'
    },
    filters: {
        device_id: [
            'device_id_1', 
            'device_id_2', 
            'device_id_3', 
            'device_id_4'
        ],
    }
};

axios.post(url, data, options)
    .then(resp => console.log(resp))
    .catch(err => console.error(err));
```

</TabItem>

<TabItem value="3">

* برای اجرا نیاز به پایتون ورژن ۳.۶ و به بالا می‌باشد
* برای اجرای این کد باید ابتدا پکیج <BlankLink href='https://pypi.org/project/requests/'>requests</BlankLink> را نصب کنید. 
`pip install requests`

```python
import requests
import json

YOUR_TOKEN = 'put your token here ...'
YOUR_APP_ID = 'put your app id here ...'

url = f'https://api.pushe.co/v2/messaging/notifications/'

headers = {
    'Authorization': f'Token {YOUR_TOKEN}',
    'Content-Type': 'application/json'
}

payload = json.dumps({
    'app_ids': YOUR_APP_ID,
    'data': {
        'title': 'عنوان اعلان',
        'content': 'متن اعلان'
    },
    'filters': {
        'device_id': [
            'device_id_1', 
            'device_id_2', 
            'device_id_3', 
            'device_id_4'
        ]
    }
})

r = requests.post(url, data=payload, headers=headers)

print(r.status_code)
```

</TabItem>


<TabItem value="4">

```php
$YOUR_TOKEN = 'put your token here ...';
$YOUR_APP_ID = 'put your app id here ...';

$ch = curl_init('https://api.pushe.co/v2/messaging/notifications/');

curl_setopt_array($ch, array(
    CURLOPT_POST  => 1,
    CURLOPT_TIMEOUT => 30,
    CURLOPT_RETURNTRANSFER => true,
    CURLOPT_HTTPHEADER => array(
        "Content-Type: application/json",
        "Authorization: Token " . $YOUR_TOKEN,
    ),
));

curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode(array(
    'app_ids' => $YOUR_APP_ID,
    'data' => array(
        'data' => 'title',
        'content' => 'content'
    ),
    'filters' => array(
        'device_id' => array(
            'device_id_1', 
            'device_id_2', 
            'device_id_3', 
            'device_id_4'
        )
    )
)));

$result = curl_exec($ch);
 
curl_close($ch);

echo $result;
```

</TabItem>

<TabItem value="5">

```go
package main

import (
	"fmt"
	"bytes"
	"io/ioutil"
	"encoding/json"
	"net/http"
)

const YOUR_TOKEN = "put your token here ..."
const YOUR_APP_ID = "put your app id here ..."

func main() {
	url := "https://api.pushe.co/v2/messaging/notifications/"

	payload := map[string]interface{}{
		"app_ids" : YOUR_APP_ID,
		"data": map[string]string{
			"title": "عنوان اعلان",
			"content": "متن اعلان",
		},
        "filters": map[string][]string{
            "device_id": []string{
                "device_id_1", 
                "device_id_2", 
                "device_id_3", 
                "device_id_4"
            }
        }
	}

	jsonValue, _ := json.Marshal(payload)

	req, _ := http.NewRequest("POST", url, bytes.NewBuffer(jsonValue))

	req.Header.Set("Content-Type", "application/json")
	req.Header.Set("Authorization", "Token " + YOUR_TOKEN)

	client := &http.Client{}
	resp, err := client.Do(req)

	if err != nil {
		panic(err)
	}

	defer resp.Body.Close()

	fmt.Println("response Status:", resp.Status)
	body, _ := ioutil.ReadAll(resp.Body)
    fmt.Println("response Body:", string(body))
}
```

</TabItem>

</Tabs>


