<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<script src="/clarity.js"></script><title data-react-helmet="true">تغییرات نسخه ها | پوشه</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.pushe.co/docs/android/releasenote"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="تغییرات نسخه ها | پوشه"><meta data-react-helmet="true" name="description" content="2.6.4"><meta data-react-helmet="true" property="og:description" content="2.6.4"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.pushe.co/docs/android/releasenote"><link data-react-helmet="true" rel="alternate" href="https://docs.pushe.co/docs/android/releasenote" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.pushe.co/docs/android/releasenote" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.1faba24d.css">
<link rel="preload" href="/assets/js/runtime~main.93a94565.js" as="script">
<link rel="preload" href="/assets/js/main.b62d844a.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="پوشه " class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo.svg" alt="پوشه " class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title"> </b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">مستندات</a><a href="https://pushe.co" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">وب‌سایت پوشه</a><a href="https://github.com/pusheco" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>گیت‌هاب پوشه<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">🌜</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">🌞</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/android/intro">اندروید استودیو</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/android/initialzation">قابلیت‌های پایه‌ای</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/android/hms/intro">ماژول هواوی</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/android/multiple-fcm">ماژول فایربیس</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/android/notification/d2d-notification">ماژول Notification</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/android/analytics/event">ماژول Analytics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/android/inappmessaging/intro">ماژول InAppMessaging</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/android/misc/proguard">متفرقه</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/android/troubleshoot">سوالات و مشکلات</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/docs/android/releasenote">تاریخچه نسخه‌ها</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/android/releasenote">تغییرات نسخه ها</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>تغییرات نسخه ها</h1></header><h2 class="anchor anchorWithStickyNavbar_y2LR" id="264"><code>2.6.4</code><a class="hash-link" href="#264" title="Direct link to heading">​</a></h2><ul><li>رفع مشکل پروگارد بعد از بروزرسانی <code>moshi</code> (<a href="https://github.com/pusheco/pushe-android-studio-sample/issues/71" target="_blank" rel="noopener noreferrer">#71</a>)</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="263"><code>2.6.3</code><a class="hash-link" href="#263" title="Direct link to heading">​</a></h2><ul><li>رفع مشکل اکشن نوتیفیکیشن</li><li>رفع باگ و بهبودهای کلی</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="262"><code>2.6.2</code><a class="hash-link" href="#262" title="Direct link to heading">​</a></h2><ul><li>رفع مشکل پروگارد</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="261"><code>2.6.1</code><a class="hash-link" href="#261" title="Direct link to heading">​</a></h2><ul><li><p>بروزرسانی کتابخانه‌های وابسته و ورژن کاتلین</p><ul><li>Kotlin -&gt; 1.5.30</li><li>WorkManager -&gt; 2.7.1</li><li>Moshi -&gt; 1.12.0</li></ul></li><li><p>رفع مشکل <a href="https://github.com/pusheco/pushe-android-studio-sample/issues/61" target="_blank" rel="noopener noreferrer">#61</a></p></li><li><p>رفع مشکل <a href="https://github.com/pusheco/pushe-android-studio-sample/issues/63" target="_blank" rel="noopener noreferrer">#63</a></p></li><li><p>رفع مشکل Sync endpoint</p></li><li><p>رفع باگ جزئی در <code>PusheUser</code></p><blockquote><p>برای اطلاعات بیشتر به بخش
<a href="/docs/android/user">کاربر</a>
مراجعه کنید.</p></blockquote></li><li><p>اضافه‌شدن <code>Pushe.setUserLoggedIn()</code> برای سینک وضعیت لاگین</p></li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="260"><code>2.6.0</code><a class="hash-link" href="#260" title="Direct link to heading">​</a></h2><ul><li>فراهم‌آوری زیرساخت Marketing automation</li><li>سینک کاربر با <code>PusheUser</code></li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="251"><code>2.5.1</code><a class="hash-link" href="#251" title="Direct link to heading">​</a></h2><ul><li><p>رفع مشکل <code>R8: Missing class co.pushe.plus.messaging.ParcelSendException</code></p></li><li><p>بروزرسانی TargetSDK به <strong>31</strong></p></li><li><p>این بروزرسانی خطای مرتبط با <code>android:exported</code> در سرویس‌های پوشه حل می‌کند</p></li><li><p>اضافه‌شدن پرمیشن <code>AD_ID</code> با توجه به تغییرات Google advertising id policy
گوگل در سال ۲۰۲۱ در قوانین مرتبط با Google advertising id تغییراتی داد بدین صورت که کاربر امکان خارج شدن از شخصی‌سازی تبلیغات را خواهد داشت.
در صورت اجرای این حالت توسط کاربر، کلید Google advertising id یک رشته‌ی تماما 0 برمی‌گردد و دیگر کاربرد نخواهد داشت.  </p></li></ul><p>همچنین در صورت بروزرسانی TargetSDK به ۳۱ بایستی برای دریافت advertising id پرمیشن آن‌را نیز قرار دهید. این پرمیشن به طور پیش‌فرض به پوشه اضافه شده است.</p><blockquote><p><strong>حذف پرمیشن advertising id در صورت نیاز</strong><br>
<!-- -->در صورتی که نیاز به حذف این پرمیشن دارید بایستی در مانیفست خود این کد را قرار دهید تا پرمیشن حذف شود</p><div class="codeBlockContainer_J+bg language-xml theme-code-block"><div class="codeBlockContent_csEI xml"><pre tabindex="0" class="prism-code language-xml codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">uses-permission</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name namespace" style="color:rgb(178, 204, 214)">android:</span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">com.google.android.gms.permission.AD_ID</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name namespace" style="color:rgb(178, 204, 214)">tools:</span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">node</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">remove</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></blockquote><h2 class="anchor anchorWithStickyNavbar_y2LR" id="250"><code>2.5.0</code><a class="hash-link" href="#250" title="Direct link to heading">​</a></h2><ul><li><p>حذف لایبرری مرتبط با لوکیشن گوگل
زین پس لوکیشن توسط ماژولهای <code>fcm</code> و <code>hms</code> درصورت وجود پرمیشن برای استفاده‌های مکانی فراهم می‌شود.</p></li><li><p>قابلیت غیرفعال‌کردن نمایش اعلان هنگامی که اپ باز است
با فعال‌کردن این قابلیت در صورتی که اپلیکیشن باز باشد اعلان نمایش داده نمی‌شود و فقط
Listener
های تعریف شده فراخوانی می‌شوند.</p></li></ul><p>(<a href="/docs/android/notification/foreground">داکیومنت مرتبط با این قابلیت</a>)</p><p>این امکان مشابه رفتار پیش‌فرض فایربیس می‌باشد.</p><ul><li>منسوخ‌شدن <code>UserNotification.withAndroidId</code>
زین پس از <code>UserNotification.withDeviceId</code> جهت هماهنگی با استاندارد نامگذاری <code>ios</code> استفاده خواهد شد.</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="241"><code>2.4.1</code><a class="hash-link" href="#241" title="Direct link to heading">​</a></h2><ul><li>[<strong>Breaking</strong>]<!-- -->: حذف ماژول‌های <code>inappmessaging</code> و <code>hms</code> از ماژول <code>base</code>.
در صورت نیاز به این قابلیت‌ها باید ماژول آنها نیز اضافه شود.</li><li>اضافه‌شدن توابع برای سهولت کار با فریم‌ورک‌ها</li><li>رفع باگ‌های بخش رجیستریشن و ماژول هواوی</li><li>تابع
<code>getGoogleAdvertisingId</code>
منسوخ‌شده است. زین پس از
<code>getAdvertisingId</code>
استفاده کنید. در صورتی که سرویس
<code>Huawei pushKit</code>
در حال استفاده باشد این تابع
<code>Huawei OAID</code>
را برمی‌گرداند که مشابه
<code>AdId</code>
برای گوگل است</li><li>اضافه‌شدن توابع
<code>getToken(callback)</code> و <code>getToken(): String</code>
در ماژول‌های
<code>FCM</code> و <code>HMS</code></li></ul><div dir="ltr"><div class="codeBlockContainer_J+bg language-java theme-code-block"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">// FCM</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Get cached value</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">val tokenNow = Pushe.getPusheService(PusheFCM::class)?.getToken()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Fetch token</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Pushe.getPusheService(PusheFCM::class)?.getToken { token -&gt; }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// HMS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Get cached value</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">val tokenNow = Pushe.getPusheService(PusheFCM::class)?.getToken()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Fetch token</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Pushe.getPusheService(PusheFCM::class)?.getToken { token -&gt; }</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="240"><code>2.4.0</code><a class="hash-link" href="#240" title="Direct link to heading">​</a></h2><ul><li>اضافه‌شدن ماژول HMS</li></ul><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>HMS</h5></div><div class="admonition-content"><p>ماژول Hms به پوشه این امکان را می‌دهد که بتوانند به دستگاه‌هایی که
GooglePlay
ندارند نیز اعلان ارسال کند.</p><p>[<a href="/docs/android/hms/intro"><strong>اطلاعات بیشتر</strong></a>]</p></div></div><ul><li>اضافه شدن کانفیگ <code>pushe_set_preferred_service</code> برای اولویت‌دهی به سرویس‌های <code>fcm</code> و <code>hms</code> در صورتی که یک دستگاه هر دو قابلیت را دارا بود.</li></ul><div dir="ltr"><div class="codeBlockContainer_J+bg language-xml theme-code-block"><div class="codeBlockContent_csEI xml"><pre tabindex="0" class="prism-code language-xml codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">meta-data</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name namespace" style="color:rgb(178, 204, 214)">android:</span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">pushe_set_preferred_service</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token tag" style="color:rgb(255, 85, 114)">  </span><span class="token tag attr-name namespace" style="color:rgb(178, 204, 214)">android:</span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">value</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">${hms|fcm}</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><ul><li>اضافه‌کردن قابلیت دریافت <code>Huawei OAID</code> در صورتی که Google advertising id قابل دریافت نباشد.</li><li>بروزرسانی <code>firebase-messaging</code> به <strong>21.0.0</strong> (<a href="https://firebase.google.com/support/release-notes/android#messaging_v21-0-0" target="_blank" rel="noopener noreferrer">firebase release note</a>)</li><li>اضافه شدن قابلیت استفاده از فایربیس پیشفرض. در صورتی که خطای <code>FIS_AUTH_ERROR</code> رخ بدهد این امکان می‌تواند مفید واقع شود.</li></ul><div class="codeBlockContainer_J+bg language-xml theme-code-block"><div style="color:#bfc7d5;background-color:#292d3e" class="codeBlockTitle_oQzk">AndroidManifest.xml</div><div class="codeBlockContent_csEI xml"><pre tabindex="0" class="prism-code language-xml codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">meta-data</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name namespace" style="color:rgb(178, 204, 214)">android:</span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">pushe_use_default_firebase</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name namespace" style="color:rgb(178, 204, 214)">android:</span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">value</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">true</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>نکته</strong>:
باید پروژه‌ی فایربیسی که به پوشه هنگام ساخت اپلیکیشن معرفی می‌شود با پروژه‌ای که در اپ اضافه شده‌است یکی باشند. در غیر اینصورت پوشه امکان برقراری ارتباط با سرور فایربیس را نخواهد داشت.<br>
<!-- -->همچنین باید
<a href="/docs/android/multiple-fcm">استفاده‌ی همزمان با فایربیس</a>
را فراموش نکنید.</p><ul><li>مشکلات </li><li>در صورت فعال بودن <code>GDPR compliance</code> ممکن است در اول کار رجیستر با مشکل روبرو شود.</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="221"><code>2.2.1</code><a class="hash-link" href="#221" title="Direct link to heading">​</a></h2><ul><li>رفع باگ  <code>failed to call addObserver</code> هنگام شروع به کار کتابخانه</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="220"><code>2.2.0</code><a class="hash-link" href="#220" title="Direct link to heading">​</a></h2><ul><li>اضافه‌شدن سرویس <a href="/docs/android/inappmessaging/intro"><strong>InAppMessaging</strong></a></li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="211"><code>2.1.1</code><a class="hash-link" href="#211" title="Direct link to heading">​</a></h2><ul><li><p>اضافه‌شدن سازگاری با <code>GDPR compliance</code>. (<a href="https://gdpr.eu/what-is-gdpr/" target="_blank" rel="noopener noreferrer">?What is GDPR</a>)</p></li><li><p>منسوخ شدن <code>getAndroidId</code>. از این به بعد می‌توانید در عوض از <code>getDeviceId</code> استفاده کنید.</p></li><li><p>حذف تابع <code>getPusheId</code>. برای تمایز کاربران بایستی از شناسه‌های دیگر استفاده کنید.
(<a href="https://docs.pushe.co/docs/android/unification/" target="_blank" rel="noopener noreferrer">تمایز کاربران با شناسه‌ها</a>)</p></li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="210"><code>2.1.0</code><a class="hash-link" href="#210" title="Direct link to heading">​</a></h2><ul><li><p>[<strong>Breaking</strong>]<!-- -->: مهاجرت به <strong>AndroidX</strong>. در صورتی که تمایل داشته باشید این نسخه‌ و نسخه‌های بالاتر را استفاده کنید بایستی پروژه‌ی شما نیز از AndroidX استفاده کند. (<a href="https://developer.android.com/jetpack/androidx" target="_blank" rel="noopener noreferrer">?What is AndroidX</a>)</p></li><li><p>رفع مشکل عدم سازگاری کتابخانه با <strong>Firebase cloud messaging</strong> و <strong>Firebase instance ID</strong> نسخه 20.1.1 و بالاتر
، در صورتی که پروژه شما از <code>firebase-messaging</code> و <code>firebase-iid</code> نسخه <code>20.1.1</code> و بالاتر استفاده میکند باید حتما از این نسخه کتابخانه پوشه و یا نسخه های بالاتر استفاده کنید.
(<a href="https://firebase.google.com/support/release-notes/android" target="_blank" rel="noopener noreferrer">Firebase release-note</a>)</p></li><li><p>رفع خطای <code>FIS_AUTH_ERROR</code> و <code>Please Enter your project ID</code> از سمت فایربیس (<a href="https://github.com/pusheco/pushe-android-studio-sample/issues/29" target="_blank" rel="noopener noreferrer">Github issue</a>)</p></li><li><p>سازگاری قابلیت <strong>Notification badge</strong> برای اندروید‌های <strong>4.4 (API 19) و بالاتر</strong> (<a href="https://developer.android.com/training/notify-user/badges" target="_blank" rel="noopener noreferrer">?What is NotificationBadge</a>)</p></li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="205"><code>2.0.5</code><a class="hash-link" href="#205" title="Direct link to heading">​</a></h2><ul><li><p>اضافه‌شدن امکان انصراف از نوتیفیکیشن برنامه‌ریزی شده. در صورتی که یک نوتیفیکیشن برای ارسال به کاربر برنامه‌ریزی شده باشد امکان کنسل‌کردن آن وجود دارد.</p></li><li><p>رفع باگ</p></li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="204"><code>2.0.4</code><a class="hash-link" href="#204" title="Direct link to heading">​</a></h2><ul><li>اضافه شدن کالبک به افزودن تگ. شما میتوانید با استفاده از این کالبک مطلع شوید که کار اضافه شدن تگ به درستی انجام شده است یا نه.</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="201"><code>2.0.1</code><a class="hash-link" href="#201" title="Direct link to heading">​</a></h2><ul><li><p>تغییر نوع تگ هایی که به کاربران میتوان اختصاص داد. به جای لیستی از رشته ها اکنون میتوانید تگ ها را به صورت کلید و مقدار به کاربرانتان اختصاص دهید.</p></li><li><p>تعییر ساختار توکن اپلیکیشن</p></li><li><p>اضافه شدن <code>getSubscribedTags</code> برای گرفتن لیست تگ های اختصاص داده شده به کاربر</p></li></ul><header><h1>ریلیز‌های Preview</h1></header><div class="codeBlockContainer_J+bg language-js theme-code-block"><div style="color:#bfc7d5;background-color:#292d3e" class="codeBlockTitle_oQzk">project/build.gradle</div><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">allprojects </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    repositories </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Stable and Pre-releases</span><span class="token plain"></span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">mavenCentral</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// SNAPSHOT artifacts (x.x.x-SNAPSHOT versions)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        maven </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> url </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;https://s01.oss.sonatype.org/content/repositories/snapshots/&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>توجه</h5></div><div class="admonition-content"><p>هنگام استفاده از ورژن‌های prerelease به این نکته دقت داشته باشید:</p><ul><li><code>x-alphaXX</code> ناپایدارترین حالت است و ممکن‌است API change رخ دهد</li><li><code>x-betaXX</code> ممکن است در فانکشن‌های درونی تغییراتی رخ دهد</li><li><code>x-rcXX</code> با نسخه‌ی پایدار تفاوت چندانی ندارد و مشکلات غیرمنتظره در این نسخه‌ها بررسی می‌شود</li></ul></div></div><hr><h2 class="anchor anchorWithStickyNavbar_y2LR" id="261-beta02"><code>2.6.1-beta02</code><a class="hash-link" href="#261-beta02" title="Direct link to heading">​</a></h2><ul><li>بهبود و رفع باگ</li><li>بروزرسانی
<code>firebase-messaging</code>
به
22.0.0</li></ul><ul><li>بروزرسانی
<code>huawei-pushkit</code>
به
6.1.0.300</li><li>اضافه‌شدن
<code>setLocality</code>
به
<code>PusheUser</code></li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="260-alpha01"><code>2.6.0-alpha01</code><a class="hash-link" href="#260-alpha01" title="Direct link to heading">​</a></h2><ul><li>اضافه‌شدن User attribution
با استفاده از متد‌های زیر میتو‌انید این attribute ها را تنظیم و سینک کنید:</li></ul><div dir="ltr"><div class="codeBlockContainer_J+bg language-kt theme-code-block"><div class="codeBlockContent_csEI kt"><pre tabindex="0" class="prism-code language-kt codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Sync user&#x27;s information</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">val p: PusheUser</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Pushe.syncUserAttributes(p)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// To retrieve what you synced (locally)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">val p: PusheUser? = Pushe.getCurrentUserAttributes()</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="241-beta05"><code>2.4.1-beta05</code><a class="hash-link" href="#241-beta05" title="Direct link to heading">​</a></h2><ul><li>اضافه‌شدن توابع برای سهولت کار با فریم‌ورک‌ها</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="241-beta01"><code>2.4.1-beta01</code><a class="hash-link" href="#241-beta01" title="Direct link to heading">​</a></h2><ul><li>بروزرسانی ابزار داخلی کتابخانه</li><li>تغییرات جزئی در ماژول سنتری</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="240-alpha01"><code>2.4.0-alpha01</code><a class="hash-link" href="#240-alpha01" title="Direct link to heading">​</a></h2><ul><li>اضافه‌شدن ماژول HMS</li></ul><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>HMS</h5></div><div class="admonition-content"><p>ماژول Hms به پوشه این امکان را می‌دهد که بتوانند به دستگاه‌هایی که
GooglePlay
ندارند نیز اعلان ارسال کند.</p><p>[<a href="#"><strong>اطلاعات بیشتر</strong></a>]</p></div></div><ul><li>اضافه شدن کانفیگ <code>pushe_set_preferred_service</code> برای اولویت‌دهی به سرویس‌های <code>fcm</code> و <code>hms</code> در صورتی که یک دستگاه هر دو قابلیت را دارا بود.</li></ul><div dir="ltr"><div class="codeBlockContainer_J+bg language-xml theme-code-block"><div class="codeBlockContent_csEI xml"><pre tabindex="0" class="prism-code language-xml codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">meta-data</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name namespace" style="color:rgb(178, 204, 214)">android:</span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">pushe_set_preferred_service</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token tag" style="color:rgb(255, 85, 114)">  </span><span class="token tag attr-name namespace" style="color:rgb(178, 204, 214)">android:</span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">value</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">${hms|fcm}</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><ul><li><p>اضافه‌کردن قابلیت دریافت <code>Huawei OAID</code> در صورتی که Google advertising id قابل دریافت نباشد.</p></li><li><p>بروزرسانی <code>firebase-messaging</code> به <strong>21.0.0</strong> (<a href="https://firebase.google.com/support/release-notes/android#messaging_v21-0-0" target="_blank" rel="noopener noreferrer">firebase release note</a>)</p></li><li><p>مشکلات </p></li><li><p>در صورت فعال بودن <code>GDPR compliance</code> ممکن است در اول کار رجیستر با مشکل روبرو شود.</p></li></ul><hr><h2 class="anchor anchorWithStickyNavbar_y2LR" id="230-beta17"><code>2.3.0-beta17</code><a class="hash-link" href="#230-beta17" title="Direct link to heading">​</a></h2><ul><li>جداشدن سرویس <code>fcm</code> بعنوان یک ماژول جدید
من بعد برای دسترسی به <code>Pushe#getFcmHandler</code> بایستی متد را از ماژول مربوطه دریافت کنید:</li></ul><div dir="ltr"><div class="codeBlockContainer_J+bg language-kotlin theme-code-block"><div class="codeBlockContent_csEI kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Before 2.3.x</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">val pusheFcmHandler = Pushe.getFcmHandler()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// 2.3.x and above</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">val pusheFcmHandler = Pushe.getPusheService(PusheFCM::class.java)?.fcmHandler</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/android/faq"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">سوالات</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#264" class="table-of-contents__link toc-highlight"><code>2.6.4</code></a></li><li><a href="#263" class="table-of-contents__link toc-highlight"><code>2.6.3</code></a></li><li><a href="#262" class="table-of-contents__link toc-highlight"><code>2.6.2</code></a></li><li><a href="#261" class="table-of-contents__link toc-highlight"><code>2.6.1</code></a></li><li><a href="#260" class="table-of-contents__link toc-highlight"><code>2.6.0</code></a></li><li><a href="#251" class="table-of-contents__link toc-highlight"><code>2.5.1</code></a></li><li><a href="#250" class="table-of-contents__link toc-highlight"><code>2.5.0</code></a></li><li><a href="#241" class="table-of-contents__link toc-highlight"><code>2.4.1</code></a></li><li><a href="#240" class="table-of-contents__link toc-highlight"><code>2.4.0</code></a></li><li><a href="#221" class="table-of-contents__link toc-highlight"><code>2.2.1</code></a></li><li><a href="#220" class="table-of-contents__link toc-highlight"><code>2.2.0</code></a></li><li><a href="#211" class="table-of-contents__link toc-highlight"><code>2.1.1</code></a></li><li><a href="#210" class="table-of-contents__link toc-highlight"><code>2.1.0</code></a></li><li><a href="#205" class="table-of-contents__link toc-highlight"><code>2.0.5</code></a></li><li><a href="#204" class="table-of-contents__link toc-highlight"><code>2.0.4</code></a></li><li><a href="#201" class="table-of-contents__link toc-highlight"><code>2.0.1</code></a></li><li><a href="#261-beta02" class="table-of-contents__link toc-highlight"><code>2.6.1-beta02</code></a></li><li><a href="#260-alpha01" class="table-of-contents__link toc-highlight"><code>2.6.0-alpha01</code></a></li><li><a href="#241-beta05" class="table-of-contents__link toc-highlight"><code>2.4.1-beta05</code></a></li><li><a href="#241-beta01" class="table-of-contents__link toc-highlight"><code>2.4.1-beta01</code></a></li><li><a href="#240-alpha01" class="table-of-contents__link toc-highlight"><code>2.4.0-alpha01</code></a></li><li><a href="#230-beta17" class="table-of-contents__link toc-highlight"><code>2.3.0-beta17</code></a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"></div></div></footer></div>
<script src="/assets/js/runtime~main.93a94565.js"></script>
<script src="/assets/js/main.b62d844a.js"></script>
</body>
</html>