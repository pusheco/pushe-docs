---
id: b4a-intro
title: بیسیک4اندروید
sidebar_label: راه‌اندازی سریع
---


## پیش‌نیاز‌ها

قبل از شروع کار موارد زیر را بررسی و از درستی آنها اطمینان حاصل نمایید.

- برای گذر از تحریم سرور‌های Jcenter از ابزار گذرازتحریم یا ... استفاده کنید.
- حداقل نسخه‌ی بیسیک‌4اندروید **7.8** باشد.
- از **android.jar** نسخه‌ی 26 و یا بالاتر استفاده شود.
- `MinSDKVersion` >= 14 ,`TargetSDK` >= 25 (در ManifestEditor قابل مشاهده‌هستند)
- اپلیکیشن باید در کنسول ثبت‌شود. [Pushe console](https://console.pushe.co)
- توکن مانیفست از کنسول برداشته‌شود.
- دستگاه تست باید دارای گوگل‌پلی‌سرویس بوده و اینترنت آن فعال‌باشد.

---

## اضافه‌کردن پلاگین به پروژه

<br />

> **توجه**: نسخه‌ی فعلی در **مرحله‌ی آلفا** قرار دارد و ممکن است دارای مشکلاتی باشد. در صورت پایدار شدن این پیام حذف خواهد شد.

 * پلاگین پوشه از [این لینک](http://static.pushe.co/d/b4a/PusheB4A-v1.7-alpha1.zip) دانلود و سپس extract کنید (از زیپ‌ خارج کنید).
 * محتوای داخل فولدر extractشده را در فولدر **Libraries** برنامه اضافه‌کنید. در صورتی که فایل‌های تکراری وجود دارد گزینه‌ی `Replace` را انتخاب کنید.

---

 > فولدر **Libraries** کجاست؟

  آن‌را در محل نصب b4a می‌توانید پیدا کنید. همچنین با راست‌کلیک کردن بر روی پنجره‌ی `Libraries manager` (در سمت راست برنامه) و انتخاب گزینه‌ی `Open internal libraries folder` آن‌ فولدر را باز نمایید.

---

## نصب کتابخانه‌های مورد نیاز پلاگین

برای نصب کتابخانه‌های مورد نیاز پلاگین پوشه می‌توانید یکی از دو روش زیر را انتخاب نمایید.

### استفاده از SDK manager

از منوی Tools، ‌گزینه‌ی SDK manager
 را انتخاب کنید. کتابخانه‌های موجود و قابل نصب در این پنجره لیست می‌شوند، شما می‌توانید کتابخانه‌ی مورد نظر را انتخاب کرده و دکمه 
 `Install Selected`
 را انتخاب کنید تا نصب شوند.
 توصیه می‌کنیم همه‌ی کتابخانه‌های پیشنهاد شده در این پنجره را انتخاب و نصب کنید ولی اگر مایل به این کار نیستید می‌توانید فقط کتابخانه‌ی نام برده شده در خطا را انتخاب کنید. بعد از اتمام عملیات نصب، دوباره اقدام به بیلد برنامه بکنید و اگر کتابخانه‌ها درست نصب شده باشند با خطای قبلی مواجه نخواهید شد.

> **نکته**: دانلود از SDK manager نیازمند استفاده از ابزار گذر از تحریم است. در غیر اینصورت خطا رخ‌ خواهد داد.

### نصب بصورت دستی

توصیه می‌کنیم از روش اول استفاده کنید ولی اگر این کار برای شما امکان پذیر نیست، شما می‌توانید کتابخانه‌ها را به صورت دستی نیز نصب کنید. برای این کار ابتدا با توجه به نسخه‌ی پلتفورم اندروید خود یکی از فایل‌های زیر را دانلود کنید. 
(در صورتی که نمی‌دانید از چه نسخه‌ای استفاده می‌کنید، از طریق منو نرم‌افزار پنجره‌ی 
`Tools -> Configure Paths`
را باز کرده و عبارت جلوی 
`android.jar`
را نگاه کنید)

- اگر نسخه‌ی پلتفرم اندروید **۲۸** استفاده می‌کنید، [این فایل](https://static.pushe.co/d/b4a/b4a_remote-28.zip) را دانلود کنید
- اگر نسخه‌ی پلتفرم اندروید **۲۷** استفاده می‌کنید، [این فایل](https://static.pushe.co/d/b4a/b4a_remote-27.zip) را دانلود کنید
- اگر نسخه‌ی پلتفرم اندروید **۲۶** استفاده می‌کنید، [این فایل](https://static.pushe.co/d/b4a/b4a_remote-26.zip) را دانلود کنید


 بعد از اتمام دانلود فایل زیپ را باز کرده و داخل آن فولدری به نام 
 `b4a_remote` 
 پیدا خواهید کرد. این فولدر را در مسیر 
 `<Android SDK>\extras` 
 کپی کنید. توجه داشته باشید که در این مسیر عبارت 
 `<Android SDK>`
 را با محل نصب 
 SDK
 اندروید بر روی سیستم خود جایگزین کنید. برای مثال اگر 
 SDK 
 اندروید شما در 
 `C:\Android SDK`
 نصب شده باشد، بعد از کپی کردن، فولدر 
 `C:\Android SDK\extras\b4a_remote`
 باید وجود داشته باشد.


## اضافه‌کردن شناسه‌ی کنسول در مانیفست برنامه

وارد پنل پوشه شوید و در منو سمت راست گزینه 
`اپلیکیشن‌ها`
را انتخاب کنید.
 اپلیکیشن مورد نظر را در لیست اپلیکیشن‌ها پیدا کنید و در قسمت امکانات آن، گزینه‌ی 
 `نمایش مانیفست`
 را کلیک کنید.

<img src="/img/b4a/app_manifest_select.png" height="120"/><br />

در پنجره‌ی باز شده نسخه‌ی `1.7` را انتخاب کنید و متن نمایش داده شده را کپی کنید.

در نرم‌افزار **B4A**، تنظمیات مانیفست پروژه را از طریق منو `Project > Manifest Editor`  باز کنید و متن کپی شده را در آن قرار دهید.
  
   
برخی از دسترسی ها (*permissions*) برای پوشه اختیاری است. این دسترسی ها برای ارسال هدفمند اعلان به کاربران است. شما قادر خواهید بود با استفاده از این دسترسی ها کاربران خود را دسته بندی کنید و اعلانهای خود را هدفمند ارسال کنید.

محتوای همانند کد زیر به انتهای فایل مانیفست باید اضافه‌شود:

```js
' Maniefest content 

CreateResourceFromFile(Macro, Pushe.Standalone)

AddApplicationText(<meta-data android:name="co.ronash.pushe.token" android:value="PUSHE_TOKEN"/>)
AddPermission(android.permission.ACCESS_COARSE_LOCATION)
```

## اضافه‌کردن کدهای لازم برای رجیستر

در کلاس Main در قسمت `Sub Globals` کد زیر را قرار دهید:

```vb
Dim pushe As Pushe
```

در کلاس `Main` در قسمت `Activity Create` کد زیر را وارد کنید:

```js
pushe.initialize()
```


## تست و ثبت دستگاه در پوشه

پس از اجرای برنامه در دستگاه (دارای گوگل‌پلی‌سرویس و متصل به اینترنت) پس از مدت کوتاهی انتظار بایستی نصب شما در پوشه ثبت ‌شود.
برای اطلاع از جزئیات و مشاهده‌ی خطاهای احتمالی می‌توانید از **لاگ‌کت** (سمت راست تب Logs) استفاده کنید.

همچنین [این ابزار](https://www.b4x.com/android/forum/attachments/b4alogviewer1-2-zip.6454/) هم برای مشاهده‌ی لاگ‌های برنامه می‌تواند استفاده شود.

### مشاهده‌ی جزئیات رجیستر در لاگ‌کت

[مستندات اندروید برای لاگ‌کت](https://developer.android.com/studio/command-line/logcat)

برای مشاهده‌ی بهتر لاگ‌ها می‌توانید فیلتر `Pushe` را روی لاگ‌ها اعمال کنید.

```bash
# Android logcat:

--------+ Started Initialization of Pushe 1.7 +--------
Trying to register to Pushe
Successfully registered to pushe
```

در صورتی که در یکی از این مراحل مشکلی وجود داشت، ابتدا [سوالات متداول](/docs/b4a/b4a-errors) را بررسی کنید و در صورتی نیافتن مشکل آن را در [Github issue](https://github.com/pusheco/b4a-sample/issues?utf8=%E2%9C%93&q=is%3Aissue) مطرح کنید.

برای مشاهده‌ی امکانات و قابلیت‌های بیشتر پوشه در B4A به مطالعه‌ی ادامه‌ی مستندات بپردازید.