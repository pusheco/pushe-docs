<!DOCTYPE html>
<html lang="en" data-theme="">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus">

<script type="text/javascript">/*<![CDATA[*/window.__chunkMapping={"10719953":["/10719953.a8585aa7.js"],"17896441":["/17896441.c0069aa4.js"],"66797571":["/66797571.c65090cb.js"],"main":["/main.f544681f.js"],"01a85c17":["/01a85c17.83550c81.js"],"05081cd2":["/05081cd2.45493b22.js"],"05abb0d7":["/05abb0d7.248c5f31.js"],"06966b2a":["/06966b2a.a9ff1636.js"],"0b807446":["/0b807446.5a472dd0.js"],"0df3917a":["/0df3917a.05436a04.js"],"0f6856af":["/0f6856af.8fc5da14.js"],"107c11e2":["/107c11e2.21893ca7.js"],"14f0937e":["/14f0937e.b7c7d085.js"],"1816d2ac":["/1816d2ac.b4580720.js"],"196d82e8":["/196d82e8.ba7638e5.js"],"1b0b13f2":["/1b0b13f2.d435e572.js"],"1be78505":["/1be78505.273ee414.js"],"1c168a9d":["/1c168a9d.ba9f299b.js"],"1dba6a18":["/1dba6a18.a7126445.js"],"1e9bed4b":["/1e9bed4b.8da038c6.js"],"1ee6385e":["/1ee6385e.9c6ff37e.js"],"20ac7829":["/20ac7829.03b26549.js"],"23ba1dd0":["/23ba1dd0.a7b4e6f0.js"],"27d55a8e":["/27d55a8e.2f5caeea.js"],"2868cdab":["/2868cdab.f33558fe.js"],"2928cf1c":["/2928cf1c.7425b57d.js"],"30b8bb07":["/30b8bb07.d6c0838a.js"],"31d49d87":["/31d49d87.401f61d6.js"],"34b9fe61":["/34b9fe61.e4642414.js"],"3570154c":["/3570154c.8029c67a.js"],"39cb8c7d":["/39cb8c7d.1f4943d0.js"],"3a6eb64e":["/3a6eb64e.3a828c50.js"],"3da7bd15":["/3da7bd15.f1ebddbe.js"],"3e3649d2":["/3e3649d2.ea82a31f.js"],"42b3c401":["/42b3c401.ee522fcc.js"],"449475bc":["/449475bc.a9ca2f6c.js"],"45ae021b":["/45ae021b.d033eca1.js"],"4bf1ca50":["/4bf1ca50.bd6715e8.js"],"4daa51e0":["/4daa51e0.d3582ec7.js"],"4f06a96e":["/4f06a96e.23785119.js"],"583d6de0":["/583d6de0.5716587f.js"],"5a9e6400":["/5a9e6400.6f50d342.js"],"606d351c":["/606d351c.6e6f2b62.js"],"607ee526":["/607ee526.37994290.js"],"63e3cf28":["/63e3cf28.27cca93e.js"],"6875c492":["/6875c492.ccaa1d40.js"],"68d891c2":["/68d891c2.24524426.js"],"68fa183b":["/68fa183b.f1f6d0cf.js"],"699897dc":["/699897dc.45557d37.js"],"6ba24fd7":["/6ba24fd7.bc71dce6.js"],"6ca375e2":["/6ca375e2.3365517b.js"],"6f6bb436":["/6f6bb436.5332e60c.js"],"7022f911":["/7022f911.8c05cddc.js"],"702ae723":["/702ae723.92de1c0a.js"],"70f10a0a":["/70f10a0a.76dbece0.js"],"761e9084":["/761e9084.2ccc4d78.js"],"76ed1923":["/76ed1923.20b89a9b.js"],"7bafe346":["/7bafe346.2c0b9e0b.js"],"7cbb6191":["/7cbb6191.6c8efea9.js"],"7d48a2a4":["/7d48a2a4.5873467e.js"],"809a4f8f":["/809a4f8f.dc89b3f9.js"],"812b5c42":["/812b5c42.c5cb0c6d.js"],"87570ab7":["/87570ab7.48783f61.js"],"8be5b89e":["/8be5b89e.c88f331b.js"],"8e958982":["/8e958982.e5f5fe77.js"],"8e9f0a8a":["/8e9f0a8a.0d15800d.js"],"8ff6452b":["/8ff6452b.ec9b2400.js"],"922555c7":["/922555c7.e86e5a3f.js"],"925e516f":["/925e516f.2252cf40.js"],"92f11b5d":["/92f11b5d.a3fe43db.js"],"944e091a":["/944e091a.93c4ab8e.js"],"9a07feda":["/9a07feda.f89c8b45.js"],"9cf67a82":["/9cf67a82.cf4361a2.js"],"9df87eea":["/9df87eea.00253166.js"],"9e371d26":["/9e371d26.5d7ecdac.js"],"a6aa9e1f":["/a6aa9e1f.78680046.js"],"af172acd":["/af172acd.792ee73a.js"],"b309a729":["/b309a729.29763d5e.js"],"b3a7272a":["/b3a7272a.5e89251e.js"],"b5cb8f70":["/b5cb8f70.a91df1c3.js"],"bbb4ffb5":["/bbb4ffb5.1b17c058.js"],"bbb6f259":["/bbb6f259.289ad28f.js"],"bdd709f1":["/bdd709f1.1c448571.js"],"c1bbe203":["/c1bbe203.e6ca8f9b.js"],"c1e7437d":["/c1e7437d.4d8577fe.js"],"c3946bff":["/c3946bff.12cf383e.js"],"c4e37b91":["/c4e37b91.cfc916af.js"],"c4f5d8e4":["/c4f5d8e4.abed284a.js"],"c6991b0b":["/c6991b0b.b81b45eb.js"],"ccc49370":["/ccc49370.320a5a82.js"],"cedddc86":["/cedddc86.e1d9ad7b.js"],"cfe7fcf4":["/cfe7fcf4.646249e1.js"],"d09275d2":["/d09275d2.7be7a786.js"],"d1551a67":["/d1551a67.b425c74e.js"],"d5b62b2f":["/d5b62b2f.d4488230.js"],"d610846f":["/d610846f.43edaa3b.js"],"d6155998":["/d6155998.c728f91c.js"],"d8fec018":["/d8fec018.e6062fee.js"],"daea4710":["/daea4710.4e69abf3.js"],"de29b029":["/de29b029.5ef6a08d.js"],"de8c7f04":["/de8c7f04.d7d79c67.js"],"dfae4f76":["/dfae4f76.080d45eb.js"],"e0528e22":["/e0528e22.01515b2b.js"],"e0bc838e":["/e0bc838e.9bf217a5.js"],"e386e387":["/e386e387.2ccee84e.js"],"e5d4b0a5":["/e5d4b0a5.f0d52f38.js"],"e6c11348":["/e6c11348.efeff3a9.js"],"e8f6b509":["/e8f6b509.16782ef2.js"],"e90d9a98":["/e90d9a98.18e5f0aa.js"],"ee6ff0a2":["/ee6ff0a2.ac2f59a8.js"],"eea95ba1":["/eea95ba1.852e0283.js"],"eec15bdb":["/eec15bdb.9a1bcbc6.js"],"f0dcaf2e":["/f0dcaf2e.cf8901c4.js"],"f33bfed1":["/f33bfed1.cd5d8fa1.js"],"f48bc76f":["/f48bc76f.ad8f5e08.js"],"fa3f729a":["/fa3f729a.33a86370.js"],"fc0ea246":["/fc0ea246.e7aa2d5e.js"],"fc250e28":["/fc250e28.5415d8ef.js"],"fcaa93e0":["/fcaa93e0.c24dfbfd.js"],"fcf06666":["/fcf06666.5dc94c40.js"]};/*]]>*/</script>

<title data-react-helmet="true">دریافت جیسون</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"/><meta data-react-helmet="true" property="og:title" content="پوشه · مستندات پوشه (بتا)"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="description" content="شما میتوانید از طریق پنل برای اپلیکیشن خود اطلاعات دلخواه در قالب جیسون (JSON) ارسال کنید. برای اینکه بتوانید از این اطلاعات در اپلیکیشن خود استفاده کنید مراحل زیر را انجام دهید."/><meta data-react-helmet="true" property="og:description" content="شما میتوانید از طریق پنل برای اپلیکیشن خود اطلاعات دلخواه در قالب جیسون (JSON) ارسال کنید. برای اینکه بتوانید از این اطلاعات در اپلیکیشن خود استفاده کنید مراحل زیر را انجام دهید."/><meta data-react-helmet="true" property="og:url" content="https://betadoc.pushe.co/docs/b4a/b4a-listener"/>

<link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"/>


<link rel="stylesheet" type="text/css" href="/styles.de74e7a6.css" />

</head>
<body >
<script type="text/javascript">(function() {
  function setDataThemeAttribute(theme) {
    document.querySelector('html').setAttribute('data-theme', theme);
  }
  
  var preferDarkQuery = '(prefers-color-scheme: dark)';
  var mql = window.matchMedia(preferDarkQuery);
  var supportsColorSchemeQuery = mql.media === preferDarkQuery;
  var localStorageTheme = null;
  try {
    localStorageTheme = localStorage.getItem('theme');
  } catch (err) {}
  var localStorageExists = localStorageTheme !== null;

  if (localStorageExists) {
    setDataThemeAttribute(localStorageTheme);
  } else if (supportsColorSchemeQuery && mql.matches) {
    setDataThemeAttribute('dark');
  }
})();</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="پوشه "/><strong class=""> </strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">مستندات</a><a class="navbar__item navbar__link" activeClassName="navbar__link--active" to="https://pushe.co" href="https://pushe.co">وب‌سایت پوشه</a><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://github.com/pusheco">گیت‌هاب پوشه</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"/></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="پوشه "/><strong> </strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/">مستندات</a></li><li class="menu__list-item"><a class="menu__link" activeClassName="navbar__link--active" to="https://pushe.co" href="https://pushe.co">وب‌سایت پوشه</a></li><li class="menu__list-item"><a class="menu__link" target="_blank" rel="noopener noreferrer" href="https://github.com/pusheco">گیت‌هاب پوشه</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive"><button aria-label="Open Menu" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="#!">بیسیک‌فوراندروید</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/b4a/b4a-intro">راه‌اندازی سریع</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="#!">قابلیت‌ها و امکانات</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/b4a/b4a-advanced">معرفی امکانات</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/b4a/b4a-pusheid">شناسایی کاربر</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/b4a/b4a-topic">گروه‌بندی کاربران با تاپیک</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/b4a/b4a-d2d">اعلان از یک دیوایس یه دیوایس دیگر</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/b4a/b4a-listener">دریافت جیسون</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/b4a/b4a-disable">غیرفعال‌کردن نمایش اعلان</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/b4a/b4a-channel">کانال نوتیفیکیشن</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/b4a/b4a-fcm">استفاده‌ی همزمان با FCM</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="#!">سوالات و مشکلات</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/b4a/b4a-errors">خطاهای ممکن</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/b4a/b4a-faq">سوالات</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="#!">مستندات قدیمی</a><ul class="menu__list"><li class="menu__list-item"><a activeClassName="menu__link--active" class="menu__link" to="https://pushe.co/docs/b4a" href="https://pushe.co/docs/b4a">مستندات پوشه</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">دریافت جیسون</h1></header><div class="markdown"><p>شما میتوانید از طریق پنل برای اپلیکیشن خود اطلاعات دلخواه در قالب جیسون (JSON) ارسال کنید. برای اینکه بتوانید از این اطلاعات در اپلیکیشن خود استفاده کنید مراحل زیر را انجام دهید.</p><ul><li><p>در منوی نرم‌افزار
<strong>B4A</strong>
گزینه‌ی
<code>Project -&gt; Add New Module -&gt; Service Module</code>
را انتخاب کنید و یک سرویس جدید بسازید. از شما خواسته خواهد شد که نام سرویس را وارد کنید، ما فرض می‌کنیم که نام سرویس
<code>MyJsonReceiver</code>
هست ولی شما می‌توانید نام دلخواه خود را انتخاب کنید.</p></li><li><p>فایل جدیدی با نام سرویسی که ساختید ایجاد خواهد شد. محتویات فایل را با متن زیر جایگزین کنید.
هر بار که اعلان جدیدی حاوی اطلاعات جیسون دریافت شود، تابع
<code>MessageReceived</code>
صدا زده خواهد شود. شما می‌توانید در این تابع عملیات مورد نظر خود را برای آن پیغام انجام دهید.</p></li></ul><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token maybe-class-name">Sub</span><span class="token plain"> </span><span class="token maybe-class-name">Process_Globals</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token maybe-class-name">Dim</span><span class="token plain"> </span><span class="token maybe-class-name">PusheUtil</span><span class="token plain"> </span><span class="token maybe-class-name">As</span><span class="token plain"> </span><span class="token maybe-class-name">PusheB4AUtil</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">End</span><span class="token plain"> </span><span class="token maybe-class-name">Sub</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">Sub</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">Service_Start</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">pIntent </span><span class="token maybe-class-name">As</span><span class="token plain"> </span><span class="token maybe-class-name">Intent</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token maybe-class-name">If</span><span class="token plain"> pIntent</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Action</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;co.ronash.pushe.RECEIVE&quot;</span><span class="token plain"> </span><span class="token maybe-class-name">Then</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token maybe-class-name">Dim</span><span class="token plain"> </span><span class="token maybe-class-name">JsonMsg</span><span class="token plain"> </span><span class="token maybe-class-name">As</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token maybe-class-name">JsonMsg</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name">PusheUtil</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getPusheJsonMsg</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">pIntent</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token maybe-class-name">If</span><span class="token plain"> </span><span class="token maybe-class-name">JsonMsg</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token plain"> </span><span class="token maybe-class-name">Then</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">MessageReceived</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token maybe-class-name">JsonMsg</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token maybe-class-name">End</span><span class="token plain"> </span><span class="token maybe-class-name">If</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token maybe-class-name">End</span><span class="token plain"> </span><span class="token maybe-class-name">If</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token maybe-class-name">Service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">StopAutomaticForeground</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">End</span><span class="token plain"> </span><span class="token maybe-class-name">Sub</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">Sub</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">MessageReceived</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token maybe-class-name">JsonMsg</span><span class="token plain"> </span><span class="token maybe-class-name">As</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">String</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">Log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Received Json Message&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">Log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token maybe-class-name">JsonMsg</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &#x27;</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Process json message here ... </span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">End</span><span class="token plain"> </span><span class="token maybe-class-name">Sub</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><ul><li>از طریق منوی
<code>Project -&gt; Manifest Editor</code>
تنظیمات منیفست پروژه را باز کنید و متن زیر را به آن اضافه کنید. توجه داشته باشید که عبارت
<code>MyJsonReceiver</code>
را با نام سرویس خود جایگزین کنید.</li></ul><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-xml codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">AddServiceText(MyJsonReceiver,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">intent-filter</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">action</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name namespace" style="color:rgb(178, 204, 214)">android:</span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">co.ronash.pushe.RECEIVE</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">intent-filter</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">)</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>ورودی که به تابع
<code>MessageReceived</code>
داده می‌شود به صورت یک
<code>String</code>
حاوی اطلاعات جیسون شماست. برای استفاده از ان احتمالا بخواهید ابتدا آن را به یک
<code>Map</code>
تبدیل کنید. نحوه‌ی انجام این کار را با یک مثال توضیح می‌دهیم.</p><p>فرض کنید جیسونی به صورت مقابل فرستاده‌اید:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-json codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;titr&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;تیتر&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;matn&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;متن&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>می‌خواهیم با دریافت این پیغام، یک
Toast
حاوی تیتر و متن داده شده به کاربر نشان دهیم. برای این کار ابتدا لازم است که کتابخانه‌ی
<code>JSON</code>
را در پنجره‌ی
<code>Libraries Manager</code>
فعال کنید. سپس تابع
<code>MessageReceived</code>
را به صورت زیر پیاده‌سازی می‌کنیم.</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token maybe-class-name">Sub</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">MessageReceived</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">jsonStr </span><span class="token maybe-class-name">As</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">String</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token maybe-class-name">Dim</span><span class="token plain"> jsonParser </span><span class="token maybe-class-name">As</span><span class="token plain"> </span><span class="token maybe-class-name">JSONParser</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token maybe-class-name">Dim</span><span class="token plain"> jsonObject </span><span class="token maybe-class-name">As</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Map</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token maybe-class-name">Dim</span><span class="token plain"> title </span><span class="token keyword module" style="font-style:italic">as</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token maybe-class-name">Dim</span><span class="token plain"> content </span><span class="token keyword module" style="font-style:italic">as</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token maybe-class-name">Try</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        jsonParser</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">Initialize</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">jsonStr</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        jsonObject </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> jsonParser</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">NextObject</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        title </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> jsonObject</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">Get</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;titr&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        content </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> jsonObject</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">Get</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;matn&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">ToastMessageShow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">title </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;:&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;</span><span class="token plain"> content </span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token maybe-class-name">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token maybe-class-name">Catch</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">Log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token maybe-class-name">LastException</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token maybe-class-name">End</span><span class="token plain"> </span><span class="token maybe-class-name">Try</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">End</span><span class="token plain"> </span><span class="token maybe-class-name">Sub</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre></div></article><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/b4a/b4a-d2d"><h5 class="pagination-nav__link--sublabel">Previous</h5><h4 class="pagination-nav__link--label">« <!-- -->اعلان از یک دیوایس یه دیوایس دیگر</h4></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/b4a/b4a-disable"><h5 class="pagination-nav__link--sublabel">Next</h5><h4 class="pagination-nav__link--label">غیرفعال‌کردن نمایش اعلان<!-- --> »</h4></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"></div></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="text--center"></div></div></footer>
</div>

<script type="text/javascript" src="/styles.6a751a04.js"></script>

<script type="text/javascript" src="/runtime~main.5ce80cc2.js"></script>

<script type="text/javascript" src="/main.f544681f.js"></script>

<script type="text/javascript" src="/1.64d53580.js"></script>

<script type="text/javascript" src="/2.41507dc6.js"></script>

<script type="text/javascript" src="/1be78505.273ee414.js"></script>

<script type="text/javascript" src="/20ac7829.03b26549.js"></script>

<script type="text/javascript" src="/17896441.c0069aa4.js"></script>

<script type="text/javascript" src="/0b807446.5a472dd0.js"></script>


</body>
</html>