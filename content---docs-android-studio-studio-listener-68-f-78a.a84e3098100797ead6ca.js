(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{297:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return u}));var a=n(0),i=n.n(a),r=i.a.createContext({}),o=function(t){var e=i.a.useContext(r),n=e;return t&&(n="function"==typeof t?t(e):Object.assign({},e,t)),n},c=function(t){var e=o(t.components);return i.a.createElement(r.Provider,{value:e},t.children)};var b="mdxType",l={inlineCode:"code",wrapper:function(t){var e=t.children;return i.a.createElement(i.a.Fragment,{},e)}},p=Object(a.forwardRef)((function(t,e){var n=t.components,a=t.mdxType,r=t.originalType,c=t.parentName,b=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&-1===e.indexOf(a)&&(n[a]=t[a]);return n}(t,["components","mdxType","originalType","parentName"]),p=o(n),u=a,N=p[c+"."+u]||p[u]||l[u]||r;return n?i.a.createElement(N,Object.assign({},{ref:e},b,{components:n})):i.a.createElement(N,Object.assign({},{ref:e},b))}));function u(t,e){var n=arguments,a=e&&e.mdxType;if("string"==typeof t||a){var r=n.length,o=new Array(r);o[0]=p;var c={};for(var l in e)hasOwnProperty.call(e,l)&&(c[l]=e[l]);c.originalType=t,c[b]="string"==typeof t?t:a,o[1]=c;for(var u=2;u<r;u++)o[u]=n[u];return i.a.createElement.apply(null,o)}return i.a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},74:function(t,e,n){"use strict";n.r(e),n.d(e,"frontMatter",(function(){return o})),n.d(e,"rightToc",(function(){return c})),n.d(e,"default",(function(){return p}));n(0);var a=n(297);function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}function r(t,e){if(null==t)return{};var n,a,i=function(t,e){if(null==t)return{};var n,a,i={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var o={id:"studio-listener",title:"رویدادهای نوتیفیکیشن"},c=[{value:"اجرای کد هنگام رخ‌دادن رویداد",id:"اجرای-کد-هنگام-رخدادن-رویداد",children:[]},{value:"NotificationListener",id:"notificationlistener",children:[]}],b={rightToc:c},l="wrapper";function p(t){var e=t.components,n=r(t,["components"]);return Object(a.b)(l,i({},b,n,{components:e,mdxType:"MDXLayout"}),Object(a.b)("p",null,"در صورتی که پیامی از پوشه به کاربر ارسال شود (به صورت نوتیفیکیشن و یا جیسون)، می‌توان از آنها باخبر شد.\nبرای اینکار می‌توانید کالبکی تعریف‌ کنید و هنگام رخ‌دادن یکی از رویدادهای زیر کدهای خود را فراخوانی کنید."),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"دریافت نوتیفیکیشن"),Object(a.b)("li",{parentName:"ul"},"دریافت JSON (Custom content)"),Object(a.b)("li",{parentName:"ul"},"کاربر بر روی اعلان کلیک کند"),Object(a.b)("li",{parentName:"ul"},"کاربر اعلان را رد (Dismiss) کند"),Object(a.b)("li",{parentName:"ul"},"کاربر بر روی دکمه‌ای از اعلان کلیک کند")),Object(a.b)("h2",{id:"اجرای-کد-هنگام-رخدادن-رویداد"},"اجرای کد هنگام رخ‌دادن رویداد"),Object(a.b)("div",{dir:"ltr"},Object(a.b)("h4",{id:"pushegetpusheservicepushenotificationclasssetnotificationlistenernotificationlistener"},Object(a.b)("inlineCode",{parentName:"h4"},"Pushe.getPusheService(PusheNotification.class).setNotificationListener(notificationListener)"))),Object(a.b)("table",null,Object(a.b)("thead",{parentName:"table"},Object(a.b)("tr",{parentName:"thead"},Object(a.b)("th",i({parentName:"tr"},{align:"center"}),"پارامتر ورودی"),Object(a.b)("th",i({parentName:"tr"},{align:null}),"استفاده"))),Object(a.b)("tbody",{parentName:"table"},Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",i({parentName:"tr"},{align:"center"}),"notificationListener"),Object(a.b)("td",i({parentName:"tr"},{align:null}),"یک اینترفیس که متدهای رویدادها را نگه‌داری و در زمان رخ‌داد فراخوانی می‌کند")))),Object(a.b)("p",null,"برای اینکه بتوانید رویدادها را در هر زمانی دریافت کنید بهتر است پیاده‌سازی کدهای رویداد را در ",Object(a.b)("strong",{parentName:"p"},"کلاس اپلیکیشن")," انجام دهید. برای اینکار:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"کلاسی بسازید که از ",Object(a.b)("inlineCode",{parentName:"li"},"Application")," ارث ببرد."),Object(a.b)("li",{parentName:"ul"},"آن‌را بصورت زیر به مانیفست اضافه‌کنید:")),Object(a.b)("p",null,Object(a.b)("inlineCode",{parentName:"p"},"AndroidManfiest.xml"),":"),Object(a.b)("pre",null,Object(a.b)("code",i({parentName:"pre"},{className:"language-xml"}),'\x3c!-- MyApplication is your class --\x3e\n<Manifest ...>\n    <application ...\n        android:name=".MyApplication">\n        ...\n...\n')),Object(a.b)("p",null,"در متد ",Object(a.b)("inlineCode",{parentName:"p"},"onCreate")," کلاس، کد زیر را اضافه‌کنید:"),Object(a.b)("pre",null,Object(a.b)("code",i({parentName:"pre"},{className:"language-java"}),"        Pushe.getPusheService(PusheNotification.class).setNotificationListener(new PusheNotificationListener() {\n            @Override\n            public void onNotification(@NonNull NotificationData notification) {\n               //Notification Received\n            }\n\n            @Override\n            public void onCustomContentNotification(@NonNull Map<String, Object> customContent) {\n                // Notification custom content (Json) received\n            }\n\n            @Override\n            public void onNotificationClick(@NonNull NotificationData notification) {\n               // Notification clicked\n            }\n\n            @Override\n            public void onNotificationDismiss(@NonNull NotificationData notification) {\n                // Notification dismissed\n            }\n\n            @Override\n            public void onNotificationButtonClick(@NonNull NotificationButtonData button, @NonNull NotificationData notification) {\n                // Notification button clicked\n            }\n        });\n")),Object(a.b)("p",null,"به محض دریافت نوتیفیکیشن بایستی کد داخل ",Object(a.b)("inlineCode",{parentName:"p"},"onNotification")," اجرا شود و برای رویدادهای دیگر نیز به همین ترتیب، وقتی رخ بدهند کدهای مربوط به آنها اجرا می‌شود."),Object(a.b)("h2",{id:"notificationlistener"},Object(a.b)("inlineCode",{parentName:"h2"},"NotificationListener")),Object(a.b)("p",null,"اینترفیس callback برای این‌کار به صورت زیر است:"),Object(a.b)("pre",null,Object(a.b)("code",i({parentName:"pre"},{className:"language-java"}),"public interface PusheNotificationListener {\n    void onNotification(@NonNull NotificationData notification);\n    void onCustomContentNotification(@NonNull Map<String, Object> customContent);\n    void onNotificationClick(@NonNull NotificationData notification);\n    void onNotificationDismiss(@NonNull NotificationData notification);\n    void onNotificationButtonClick(@NonNull NotificationButtonData button, @NonNull NotificationData notification);\n}\n")),Object(a.b)("p",null,"و کلاس‌های ",Object(a.b)("inlineCode",{parentName:"p"},"NotificationData")," و ",Object(a.b)("inlineCode",{parentName:"p"},"NotificationButtonData")," دارای فیلدهای زیر هستند:"),Object(a.b)("div",{dir:"ltr"},Object(a.b)("h4",{id:"notificationdatajava"},Object(a.b)("inlineCode",{parentName:"h4"},"NotificationData.java"),":")),Object(a.b)("table",null,Object(a.b)("thead",{parentName:"table"},Object(a.b)("tr",{parentName:"thead"},Object(a.b)("th",i({parentName:"tr"},{align:"center"}),"فیلد"),Object(a.b)("th",i({parentName:"tr"},{align:null}),"توضیحات"))),Object(a.b)("tbody",{parentName:"table"},Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",i({parentName:"tr"},{align:"center"}),"title"),Object(a.b)("td",i({parentName:"tr"},{align:null}),"تیتر نوتیفیکیشن")),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",i({parentName:"tr"},{align:"center"}),"content"),Object(a.b)("td",i({parentName:"tr"},{align:null}),"محتوای نوتیفیکیشن")),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",i({parentName:"tr"},{align:"center"}),"bigTitle"),Object(a.b)("td",i({parentName:"tr"},{align:null}),"تیتر بزرگ نوتیفیکیشن")),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",i({parentName:"tr"},{align:"center"}),"bigContent"),Object(a.b)("td",i({parentName:"tr"},{align:null}),"محتوای بزرگ نوتیفیکیشن")),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",i({parentName:"tr"},{align:"center"}),"summary"),Object(a.b)("td",i({parentName:"tr"},{align:null}),"متن خلاصه‌ی نوتیفکیشن")),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",i({parentName:"tr"},{align:"center"}),"imageUrl"),Object(a.b)("td",i({parentName:"tr"},{align:null}),"لینک عکس نوتیفیکیشن")),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",i({parentName:"tr"},{align:"center"}),"iconUrl"),Object(a.b)("td",i({parentName:"tr"},{align:null}),"لینک آیکون نوتیفیکیشن")),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",i({parentName:"tr"},{align:"center"}),"customContent"),Object(a.b)("td",i({parentName:"tr"},{align:null}),"مپ دلخواه نوتیفیکیشن")),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",i({parentName:"tr"},{align:"center"}),"buttons"),Object(a.b)("td",i({parentName:"tr"},{align:null}),"لیست دکمه‌هایی که نوتیفیکیشن دارد")))),Object(a.b)("p",null,"جز ",Object(a.b)("inlineCode",{parentName:"p"},"title")," و ",Object(a.b)("inlineCode",{parentName:"p"},"content")," بقیه‌ی فیلدها می‌توانند ",Object(a.b)("inlineCode",{parentName:"p"},"null")," باشند."),Object(a.b)("div",{dir:"ltr"},Object(a.b)("h4",{id:"notificationbuttondatajava"},Object(a.b)("inlineCode",{parentName:"h4"},"NotificationButtonData.java"))),Object(a.b)("table",null,Object(a.b)("thead",{parentName:"table"},Object(a.b)("tr",{parentName:"thead"},Object(a.b)("th",i({parentName:"tr"},{align:"center"}),"فیلد"),Object(a.b)("th",i({parentName:"tr"},{align:null}),"توضیحات"))),Object(a.b)("tbody",{parentName:"table"},Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",i({parentName:"tr"},{align:"center"}),"id"),Object(a.b)("td",i({parentName:"tr"},{align:null}),"شناسه‌ای برای تشخیص دکمه")),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",i({parentName:"tr"},{align:"center"}),"text"),Object(a.b)("td",i({parentName:"tr"},{align:null}),"متن دکمه")),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",i({parentName:"tr"},{align:"center"}),"icon"),Object(a.b)("td",i({parentName:"tr"},{align:null}),"آیکن دکمه")))))}p.isMDXComponent=!0}}]);